[
  {
    "text": "üß™ Laboratoire : Commencer avec Node.js et Express.js\n\n1. Installer Node.js\n\nAssurez-vous que Node.js est install√© sur votre machine. Vous pouvez le t√©l√©charger depuis\n\nle site officiel de Node.js\n\nV√©rifier l‚Äôinstallation :\n\nnode -v\n\nnpm -v\n\nEx√©cuter un script :\n\n// hello.js\n\nconsole\n\nlog\n\n\"Hello Node.js üöÄ\"\n\nPuis :\n\nnode hello.js\n\n2. Initialiser un nouveau projet Node.js\n\nOuvrez votre terminal et cr√©ez un nouveau dossier pour votre projet. Acc√©dez √† ce dossier, puis ex√©cutez la commande suivante pour initialiser un nouveau projet Node.js :\n\nmkdir mon-projet-express\n\ncd mon-projet-express\n\nnpm init -y\n\nLe drapeau\n\naccepte les valeurs par d√©faut pour toutes les options, cr√©ant ainsi un fichier\n\npackage.json\n\nde base.\n\n3. Installer Express.js\n\nInstallez Express.js en tant que d√©pendance dans votre projet :\n\nnpm install express --save\n\nExpress facilite la gestion des routes et des r√©ponses.\n\n4. Configurer le serveur Express\n\nCr√©ez un fichier\n\nindex.js\n\ndans le dossier racine de votre projet, puis ajoutez-y le code suivant pour configurer un serveur de base avec Express.js :\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab/index.html",
      "title": "üß™ Laboratoire : Commencer avec Node.js et Express.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "er un serveur de base avec Express.js :\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Hello, World!'\n\n});\n\napp\n\nlisten\n\nport\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur en √©coute sur <http://localhost>:\n\nport\n\n});\n\n5. D√©marrer le serveur\n\nVous pouvez maintenant d√©marrer votre serveur en ex√©cutant la commande suivante dans votre terminal :\n\nnode index.js\n\nCela d√©marrera le serveur et affichera\n\nServeur en √©coute sur http://localhost:3000\n\n. Vous pouvez acc√©der √† cette URL via votre navigateur pour voir le message ‚ÄúHello, World!‚Äù.\n\n6. Installer nodemon pour un d√©veloppement plus efficace\n\nPour un d√©veloppement plus pratique, vous pouvez installer\n\nnodemon\n\n. Cet outil red√©marre automatiquement le serveur √† chaque fois que vous modifiez le code :\n\nnpm install -g nodemon\n\nEnsuite, au lieu de lancer votre serveur avec\n\nnode index.js\n\n, utilisez :\n\nnodemon index.js\n\nSi vous rencontrez cette erreur sur Windows :\n\nVous pouvez la restriction de la politique de s√©curit√© avec la commande suivante :\n\nSet-ExecutionPolicy RemoteSigned -Scope CurrentUser\n\nOn peut aussi d√©marrer le serveur node en mode\n\nwatch-path\n\npour une mise √† jour imm√©diate √† chaque fois un fichier dans le dossier racine change. Il faut donc d√©placer votre fichier dans un dossier\n\nsrc",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab/index.html",
      "title": "üß™ Laboratoire : Commencer avec Node.js et Express.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "-path\n\npour une mise √† jour imm√©diate √† chaque fois un fichier dans le dossier racine change. Il faut donc d√©placer votre fichier dans un dossier\n\nsrc\n\nnode --watch-path=./src .\\src\\index.js\n\n7. Structurer votre projet\n\nIl est recommand√© de structurer votre projet de mani√®re √† ce qu‚Äôil soit facilement maintenable :\n\nindex.js\n\n: Point d‚Äôentr√©e de l‚Äôapplication.\n\nroutes/\n\n: Contient les fichiers de routage.\n\ncontrollers/\n\n: Logique m√©tier.\n\nmodels/\n\n: Mod√®les de donn√©es si vous utilisez une base de donn√©es.\n\npublic/\n\n: Contient les fichiers statiques comme les CSS, images, etc.\n\nviews/\n\n: Si vous utilisez un moteur de template comme EJS ou Pug.\n\n8. Ajouter des middlewares\n\nVous pouvez ajouter des middlewares pour g√©rer les requ√™tes, comme le parsing des corps de requ√™tes JSON :\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\napp\n\nuse\n\nexpress\n\nurlencoded\n\nextended\n\ntrue\n\n}));\n\n9. Ajouter des routes suppl√©mentaires\n\nCommen√ßons par ajouter des routes suppl√©mentaires dans votre application. Pour une meilleure organisation, nous allons cr√©er un dossier\n\nroutes/\n\no√π nous stockerons les diff√©rents fichiers de routes.\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\n// Route de base qui renvoie un message de bienvenue\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Bienvenue sur mon serveur Express!'\n\n});",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab/index.html",
      "title": "üß™ Laboratoire : Commencer avec Node.js et Express.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "3000\n\n// Route de base qui renvoie un message de bienvenue\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Bienvenue sur mon serveur Express!'\n\n});\n\n// Route pour afficher un message personnalis√©\n\napp\n\nget\n\n'/hello/:name'\n\n, (\n\nreq\n\nres\n\n) => {\n\nconst\n\nname\n\nreq\n\nparams\n\nname\n\nres\n\nsend\n\n`Bonjour,\n\nname\n\n});\n\n// Route qui renvoie les informations sur le serveur\n\napp\n\nget\n\n'/info'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\njson\n\nversion\n\n'1.0.0'\n\ndescription\n\n'Ceci est un serveur simple utilisant Express.js'\n\n});\n\n});\n\n// D√©marrer le serveur\n\napp\n\nlisten\n\nport\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur en √©coute sur <http://localhost>:\n\nport\n\n});\n\n9.1 Cr√©er un fichier de routes\n\nCr√©ez un fichier\n\nroutes/users.js\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\nrouter\n\nexpress\n\nRouter\n\n();\n\n// Route pour r√©cup√©rer tous les utilisateurs\n\nrouter\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Liste des utilisateurs'\n\n});\n\n// Route pour r√©cup√©rer un utilisateur par ID\n\nrouter\n\nget\n\n'/:id'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n`Utilisateur avec ID\n\nreq\n\nparams\n\n});\n\nmodule\n\nexports\n\nrouter\n\n9.2 Utiliser les routes dans l‚Äôapplication principale\n\nModifiez votre fichier\n\nindex.js\n\npour inclure ces nouvelles routes :\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\nconst\n\nuserRoutes\n\nrequire\n\n'./routes/users'\n\napp\n\nuse\n\nexpress\n\njson",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab/index.html",
      "title": "üß™ Laboratoire : Commencer avec Node.js et Express.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "const\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\nconst\n\nuserRoutes\n\nrequire\n\n'./routes/users'\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\napp\n\nuse\n\nexpress\n\nurlencoded\n\nextended\n\ntrue\n\n}));\n\n// Route de base\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Hello, World!'\n\n});\n\n// Utiliser les routes d√©finies dans le fichier users.js\n\napp\n\nuse\n\n'/users'\n\nuserRoutes\n\napp\n\nlisten\n\nport\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur en √©coute sur <http://localhost>:\n\nport\n\n});\n\n10. Acc√®s aux fichiers\n\nconst\n\nrequire\n\n'fs'\n\n// √âcriture\n\nwriteFileSync\n\n'data.txt'\n\n'Hello Node!'\n\n// Lecture\n\nconst\n\ndata\n\nreadFileSync\n\n'data.txt'\n\n'utf8'\n\nconsole\n\nlog\n\ndata\n\n11. Asynchrone et promises\n\nconst\n\nrequire\n\n'fs'\n\npromises\n\nasync\n\nfunction\n\nreadFile\n\n() {\n\ntry\n\nconst\n\ndata\n\nawait\n\nreadFile\n\n'data.txt'\n\n'utf8'\n\nconsole\n\nlog\n\ndata\n\ncatch\n\nerr\n\n) {\n\nconsole\n\nerror\n\nerr\n\nreadFile\n\n();",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab/index.html",
      "title": "üß™ Laboratoire : Commencer avec Node.js et Express.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "üß™ Laboratoire : Gestion des Erreurs et Logging\n\nPartie 1 : Ajouter des middlewares pour la gestion des erreurs et le logging\n\nAjouter un middleware de logging\n\nCr√©ez un middleware qui enregistre chaque requ√™te re√ßue par le serveur.\n\nImpl√©mentez le code suivant au d√©but de votre fichier\n\nindex.js\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\n// Middleware de logging\n\napp\n\nuse\n\nreq\n\nres\n\nnext\n\n) => {\n\nconsole\n\nlog\n\nreq\n\nmethod\n\nreq\n\nurl\n\nnext\n\n();\n\n});\n\nAjouter un middleware de gestion des erreurs\n\nCr√©ez un middleware pour intercepter les erreurs et envoyer une r√©ponse appropri√©e.\n\nPlacez ce middleware √† la fin de toutes vos routes dans\n\nindex.js\n\n// Middleware de gestion des erreurs\n\napp\n\nuse\n\nerr\n\nreq\n\nres\n\nnext\n\n) => {\n\nconsole\n\nerror\n\nerr\n\nstack\n\nres\n\nstatus\n\n500\n\nsend\n\n'Une erreur est survenue!'\n\n});\n\nPartie 2 : Servir des fichiers statiques\n\nCr√©er un Dossier\n\npublic\n\nCr√©ez un dossier\n\npublic\n\n√† la racine de votre projet avec la commande suivante :\n\nmkdir public\n\nAjouter un fichier HTML dans le dossier\n\npublic\n\nCr√©ez un fichier\n\nindex.html\n\ndans le dossier\n\npublic\n\navec le contenu suivant :\n\n<!DOCTYPE html>\n\nhtml\n\nlang\n\n\"fr\"\n\nhead\n\nmeta",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab2/index.html",
      "title": "üß™ Laboratoire : Gestion des Erreurs et Logging :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "ns le dossier\n\npublic\n\nCr√©ez un fichier\n\nindex.html\n\ndans le dossier\n\npublic\n\navec le contenu suivant :\n\n<!DOCTYPE html>\n\nhtml\n\nlang\n\n\"fr\"\n\nhead\n\nmeta\n\ncharset\n\n\"UTF-8\"\n\nmeta\n\nname\n\n\"viewport\"\n\ncontent\n\n\"width=device-width, initial-scale=1.0\"\n\ntitle\n\n>Page d'accueil</\n\ntitle\n\nhead\n\nbody\n\n>Bienvenue sur mon site!</\n\n>Ceci est une page HTML servie par Express.</\n\nbody\n\nhtml\n\nConfigurer Express pour servir les fichiers statiques\n\nAjoutez le code suivant dans votre fichier\n\nindex.js\n\npour permettre √† Express de servir les fichiers du dossier\n\npublic\n\n// Servir des fichiers statiques\n\napp\n\nuse\n\nexpress\n\nstatic\n\n'public'\n\n));\n\nPartie 3 : Utiliser la librairie de journalisation\n\nWinston\n\nInstaller Winston\n\nInstallez la librairie Winston en ex√©cutant la commande suivante dans votre terminal :\n\nnpm install winston\n\nConfigurer Winston\n\nAjoutez le code suivant dans votre fichier\n\nindex.js\n\npour configurer Winston et l‚Äôint√©grer avec Express pour g√©rer les logs :\n\nconst\n\nwinston\n\nrequire\n\n'winston'\n\n// Configuration du logger avec Winston\n\nconst\n\nlogger\n\nwinston\n\ncreateLogger\n\nlevel\n\n'info'\n\nformat\n\nwinston\n\nformat\n\ncombine\n\nwinston\n\nformat\n\ntimestamp\n\n(),\n\nwinston\n\nformat\n\njson\n\ntransports\n\nnew\n\nwinston\n\ntransports\n\nConsole\n\n(),\n\nnew\n\nwinston\n\ntransports\n\nFile\n\nfilename\n\n'logs/app.log'\n\n});\n\n// Middleware de logging utilisant Winston\n\napp",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab2/index.html",
      "title": "üß™ Laboratoire : Gestion des Erreurs et Logging :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "new\n\nwinston\n\ntransports\n\nConsole\n\n(),\n\nnew\n\nwinston\n\ntransports\n\nFile\n\nfilename\n\n'logs/app.log'\n\n});\n\n// Middleware de logging utilisant Winston\n\napp\n\nuse\n\nreq\n\nres\n\nnext\n\n) => {\n\nlogger\n\ninfo\n\nreq\n\nmethod\n\nreq\n\nurl\n\nnext\n\n();\n\n});\n\nPartie 4 : Tester les am√©liorations\n\nTest du middleware de logging\n\nLancez votre serveur avec\n\nnode index.js\n\nAcc√©dez √† diff√©rentes routes (par exemple,\n\n/info\n\n) et v√©rifiez que les requ√™tes sont enregistr√©es dans le terminal et dans le fichier\n\nlogs/app.log\n\nTest du Middleware de Gestion des Erreurs\n\nCr√©ez une route qui l√®ve une exception pour simuler une erreur :\n\napp\n\nget\n\n'/cause-error'\n\n, (\n\nreq\n\nres\n\n) => {\n\nthrow\n\nnew\n\nError(\n\n'Erreur simul√©e!'\n\n});\n\nAcc√©dez √† cette route via\n\nGET <http://localhost:3000/cause-error\n\n> et observez le message d‚Äôerreur personnalis√©.\n\nTest de la Servitude des Fichiers Statiques\n\nAcc√©dez √†\n\nhttp://localhost:3000/\n\ndans votre navigateur pour voir la page HTML servie par Express.\n\nPartie 5 : Fichier\n\nindex.js\n\ncomplet\n\nVoici un exemple complet apr√®s l‚Äôajout des middlewares et Winston :\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\nwinston\n\nrequire\n\n'winston'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\n// Configuration du logger avec Winston\n\nconst\n\nlogger\n\nwinston\n\ncreateLogger\n\nlevel\n\n'info'\n\nformat\n\nwinston\n\nformat\n\ncombine\n\nwinston\n\nformat\n\ntimestamp\n\n(),",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab2/index.html",
      "title": "üß™ Laboratoire : Gestion des Erreurs et Logging :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "uration du logger avec Winston\n\nconst\n\nlogger\n\nwinston\n\ncreateLogger\n\nlevel\n\n'info'\n\nformat\n\nwinston\n\nformat\n\ncombine\n\nwinston\n\nformat\n\ntimestamp\n\n(),\n\nwinston\n\nformat\n\njson\n\ntransports\n\nnew\n\nwinston\n\ntransports\n\nConsole\n\n(),\n\nnew\n\nwinston\n\ntransports\n\nFile\n\nfilename\n\n'logs/app.log'\n\n});\n\n// Middleware de logging utilisant Winston\n\napp\n\nuse\n\nreq\n\nres\n\nnext\n\n) => {\n\nlogger\n\ninfo\n\nreq\n\nmethod\n\nreq\n\nurl\n\nnext\n\n();\n\n});\n\n// Servir des fichiers statiques\n\napp\n\nuse\n\nexpress\n\nstatic\n\n'public'\n\n));\n\n// Route de base\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Bienvenue sur mon serveur Express!'\n\n});\n\n// Route pour afficher un message personnalis√©\n\napp\n\nget\n\n'/hello/:name'\n\n, (\n\nreq\n\nres\n\n) => {\n\nconst\n\nname\n\nreq\n\nparams\n\nname\n\nres\n\nsend\n\n`Bonjour,\n\nname\n\n});\n\n// Route qui renvoie les informations sur le serveur\n\napp\n\nget\n\n'/info'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\njson\n\nversion\n\n'1.0.0'\n\ndescription\n\n'Ceci est un serveur simple utilisant Express.js'\n\n});\n\n});\n\n// Route pour simuler une erreur\n\napp\n\nget\n\n'/cause-error'\n\n, (\n\nreq\n\nres\n\n) => {\n\nthrow\n\nnew\n\nError(\n\n'Erreur simul√©e!'\n\n});\n\n// Middleware de gestion des erreurs\n\napp\n\nuse\n\nerr\n\nreq\n\nres\n\nnext\n\n) => {\n\nlogger\n\nerror\n\nerr\n\nstack\n\nres\n\nstatus\n\n500\n\nsend\n\n'Une erreur est survenue!'\n\n});\n\n// D√©marrer le serveur\n\napp\n\nlisten\n\nport\n\n, () => {\n\nconsole\n\nlog",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab2/index.html",
      "title": "üß™ Laboratoire : Gestion des Erreurs et Logging :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "logger\n\nerror\n\nerr\n\nstack\n\nres\n\nstatus\n\n500\n\nsend\n\n'Une erreur est survenue!'\n\n});\n\n// D√©marrer le serveur\n\napp\n\nlisten\n\nport\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur en √©coute sur <http://localhost>:\n\nport\n\n});\n\nR√©sultats attendus\n\nLogging\n\n: Toutes les requ√™tes HTTP seront enregistr√©es dans la console et dans le fichier\n\nlogs/app.log\n\nGestion des erreurs\n\n: En cas d‚Äôerreur, un message d‚Äôerreur appropri√© sera affich√©, et les d√©tails seront enregistr√©s dans les logs.\n\nServitude de fichiers statiques\n\n: La page HTML situ√©e dans le dossier\n\npublic\n\nsera servie par Express lorsque l‚Äôon acc√®de √† l‚ÄôURL racine du serveur.",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/nodejsframeworkexpress/lab2/index.html",
      "title": "üß™ Laboratoire : Gestion des Erreurs et Logging :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express\n\nPr√©requis & mise en place\n\nmkdir http-lab\n\ncd http-lab\n\nnpm init -y\n\nnpm i express\n\nCr√©e\n\nserver.js\n\n// server.js\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\n// ===== Middleware de log (ligne de requ√™te) =====\n\napp\n\nuse\n\nreq\n\nres\n\nnext\n\n) => {\n\nconsole\n\nlog\n\nreq\n\nmethod\n\nreq\n\nurl\n\nnext\n\n();\n\n});\n\n// ===== Mock \"DB\" en m√©moire =====\n\nlet\n\nnextId\n\nlet\n\nusers\n\nname\n\n'Alice'\n\nemail\n\n'alice@example.com'\n\nrole\n\n'student'\n\nname\n\n'Bob'\n\nemail\n\n'bob@example.com'\n\nrole\n\n'student'\n\n// ===== Middlewares utilitaires =====\n\nfunction\n\nfindUser\n\nreq\n\nres\n\nnext\n\n) {\n\nconst\n\nNumber(\n\nreq\n\nparams\n\nconst\n\nuser\n\nusers\n\nfind\n\n===\n\nuser\n\nreturn\n\nres\n\nstatus\n\n404\n\njson\n\nerror\n\n'Utilisateur non trouv√©'\n\n});\n\nreq\n\nuser\n\nuser\n\nnext\n\n();\n\nfunction\n\nvalidateUserPayload\n\nreq\n\nres\n\nnext\n\n) {\n\nconst\n\nname\n\nemail\n\nrole\n\nreq\n\nbody\n\n{};\n\nname\n\nemail\n\nreturn\n\nres\n\nstatus\n\n400\n\njson\n\nerror\n\n'name et email sont requis'\n\n});\n\nrole\n\n'student'\n\n'admin'\n\n'teacher'\n\nincludes\n\nrole\n\n)) {\n\nreturn\n\nres\n\nstatus\n\n400\n\njson\n\nerror\n\n\"role doit √™tre 'student' | 'admin' | 'teacher'\"\n\n});\n\nnext\n\n();",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "nt'\n\n'admin'\n\n'teacher'\n\nincludes\n\nrole\n\n)) {\n\nreturn\n\nres\n\nstatus\n\n400\n\njson\n\nerror\n\n\"role doit √™tre 'student' | 'admin' | 'teacher'\"\n\n});\n\nnext\n\n();\n\n// ===== Routes de d√©monstration HTTP =====\n\n// GET simple\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nstatus\n\n200\n\nsend\n\n'Bienvenue!'\n\n});\n\n// GET simple + en-t√™te custom\n\napp\n\nget\n\n'/hello'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nset\n\n'X-Server'\n\n'MV-Express'\n\n// en-t√™te r√©ponse\n\nres\n\nstatus\n\n200\n\nsend\n\n'Bonjour!'\n\n});\n\n// HEAD : renvoie seulement les en-t√™tes\n\napp\n\nhead\n\n'/ping'\n\n, (\n\nreq\n\nres\n\n) =>\n\nres\n\nstatus\n\n200\n\nend\n\n());\n\n// Codes de statut √† la demande (ex: /status/404)\n\napp\n\nget\n\n'/status/:code'\n\n, (\n\nreq\n\nres\n\n) =>\n\nres\n\nsendStatus\n\n(Number(\n\nreq\n\nparams\n\ncode\n\n)));\n\n// ===== Ressource /users (CRUD) =====\n\n// Liste + filtre ?q=\n\napp\n\nget\n\n'/users'\n\n, (\n\nreq\n\nres\n\n) => {\n\nconst\n\nreq\n\nquery\n\ntoLowerCase\n\n();\n\nconst\n\nresult\n\nusers\n\nfilter\n\n=> [\n\nname\n\nemail\n\nrole\n\nsome\n\n=> String(\n\ntoLowerCase\n\n().\n\nincludes\n\n)))\n\nusers\n\nres\n\nstatus\n\n200\n\njson\n\ncount\n\nresult\n\nlength\n\ndata\n\nresult\n\n});\n\n});\n\n// Lire par id\n\napp\n\nget\n\n'/users/:id'\n\nfindUser\n\n, (\n\nreq\n\nres\n\n) =>\n\nres\n\nstatus\n\n200\n\njson\n\nreq\n\nuser\n\n));\n\n// Cr√©er\n\napp\n\npost\n\n'/users'\n\nvalidateUserPayload\n\n, (\n\nreq\n\nres\n\n) => {\n\nconst\n\nname\n\nemail\n\nrole\n\n'student'\n\nreq\n\nbody\n\nusers\n\nsome\n\nemail\n\ntoLowerCase\n\n===\n\nemail\n\ntoLowerCase",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "validateUserPayload\n\n, (\n\nreq\n\nres\n\n) => {\n\nconst\n\nname\n\nemail\n\nrole\n\n'student'\n\nreq\n\nbody\n\nusers\n\nsome\n\nemail\n\ntoLowerCase\n\n===\n\nemail\n\ntoLowerCase\n\n())) {\n\nreturn\n\nres\n\nstatus\n\n409\n\njson\n\nerror\n\n'Email d√©j√† utilis√©'\n\n});\n\nconst\n\nuser\n\nnextId\n\nname\n\nemail\n\nrole\n\nusers\n\npush\n\nuser\n\nres\n\nstatus\n\n201\n\nlocation\n\n`/users/\n\nuser\n\njson\n\nuser\n\n});\n\n// Remplacer (PUT)\n\napp\n\nput\n\n'/users/:id'\n\nfindUser\n\nvalidateUserPayload\n\n, (\n\nreq\n\nres\n\n) => {\n\nconst\n\nname\n\nemail\n\nrole\n\n'student'\n\nreq\n\nbody\n\nusers\n\nsome\n\nemail\n\ntoLowerCase\n\n===\n\nemail\n\ntoLowerCase\n\n!==\n\nreq\n\nuser\n\n)) {\n\nreturn\n\nres\n\nstatus\n\n409\n\njson\n\nerror\n\n'Email d√©j√† utilis√©'\n\n});\n\nObject.\n\nassign\n\nreq\n\nuser\n\n, {\n\nname\n\nemail\n\nrole\n\n});\n\nres\n\nstatus\n\n200\n\njson\n\nreq\n\nuser\n\n});\n\n// Modifier partiel (PATCH)\n\napp\n\npatch\n\n'/users/:id'\n\nfindUser\n\n, (\n\nreq\n\nres\n\n) => {\n\nconst\n\nallowed\n\n'name'\n\n'email'\n\n'role'\n\nconst\n\npayload\n\nObject.\n\nfromEntries\n\nObject.\n\nentries\n\nreq\n\nbody\n\n{}).\n\nfilter\n\n(([\n\n]) =>\n\nallowed\n\nincludes\n\n'role'\n\npayload\n\n'student'\n\n'admin'\n\n'teacher'\n\nincludes\n\npayload\n\nrole\n\n)) {\n\nreturn\n\nres\n\nstatus\n\n400\n\njson\n\nerror\n\n\"role doit √™tre 'student' | 'admin' | 'teacher'\"\n\n});\n\n'email'\n\npayload\n\nusers\n\nsome\n\nemail\n\ntoLowerCase\n\n===\n\npayload\n\nemail\n\ntoLowerCase\n\n!==\n\nreq\n\nuser\n\n)) {\n\nreturn\n\nres\n\nstatus\n\n409\n\njson\n\nerror\n\n'Email d√©j√† utilis√©'\n\n});\n\nObject.\n\nassign\n\nreq\n\nuser",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "===\n\npayload\n\nemail\n\ntoLowerCase\n\n!==\n\nreq\n\nuser\n\n)) {\n\nreturn\n\nres\n\nstatus\n\n409\n\njson\n\nerror\n\n'Email d√©j√† utilis√©'\n\n});\n\nObject.\n\nassign\n\nreq\n\nuser\n\npayload\n\nres\n\nstatus\n\n200\n\njson\n\nreq\n\nuser\n\n});\n\n// Supprimer\n\napp\n\ndelete\n\n'/users/:id'\n\nfindUser\n\n, (\n\nreq\n\nres\n\n) => {\n\nusers\n\nusers\n\nfilter\n\n!==\n\nreq\n\nuser\n\nres\n\nstatus\n\n204\n\nsend\n\n();\n\n});\n\n// Erreur volontaire\n\napp\n\nget\n\n'/boom'\n\n, (\n\nreq\n\nres\n\n) => {\n\nthrow\n\nnew\n\nError(\n\n'Oups üí•'\n\n); });\n\n// Handler d‚Äôerreurs (toujours √† la fin)\n\napp\n\nuse\n\nerr\n\nreq\n\nres\n\nnext\n\n) => {\n\nconsole\n\nerror\n\nerr\n\nstack\n\nres\n\nstatus\n\n500\n\njson\n\nerror\n\n'Erreur interne'\n\ndetail\n\nerr\n\nmessage\n\n});\n\n});\n\napp\n\nlisten\n\n3000\n\n, () =>\n\nconsole\n\nlog\n\n'Serveur pr√™t : http://localhost:3000'\n\n));\n\nLancer :\n\nnode server.js\n\nüß≠ Partie A ‚Äî Explorer avec\n\ncurl\n\nAstuce : ajoute\n\npour voir les\n\nen-t√™tes\n\nde r√©ponse,\n\npour silencieux, et\n\n| jq\n\npour formater le JSON.\n\nCommande\n\nM√©thode\n\nUsage\n\ncurl http://.../users\n\nGET\n\nR√©cup√©rer tous les utilisateurs\n\ncurl \"http://.../users?q=nom\"\n\nGET\n\nRecherche par query string\n\ncurl -X POST -d ...\n\nPOST\n\nCr√©er un utilisateur\n\ncurl http://.../users/1\n\nGET\n\nLire un utilisateur\n\ncurl -X PUT -d ...\n\nPUT\n\nRemplacer enti√®rement un utilisateur\n\ncurl -X PATCH -d ...\n\nPATCH\n\nModifier partiellement\n\ncurl -X DELETE ...\n\nDELETE\n\nSupprimer un utilisateur\n\ncurl -i -X POST ... (conflit)\n\nPOST",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "sateur\n\ncurl -X PATCH -d ...\n\nPATCH\n\nModifier partiellement\n\ncurl -X DELETE ...\n\nDELETE\n\nSupprimer un utilisateur\n\ncurl -i -X POST ... (conflit)\n\nPOST\n\nD√©montrer les erreurs et codes 400/409\n\nGET\n\n/hello\n\ncurl -i http://localhost:3000/hello\n\n‚Üí Observe statut\n\n200\n\n, en-t√™te custom\n\nX-Server\n\n, corps texte.\n\nHEAD\n\n/ping\n\ncurl -I http://localhost:3000/ping\n\n‚Üí En-t√™tes seulement (pas de corps).\n\nGET\n\n/users\n\n(liste)\n\ncurl -s http://localhost:3000/users | jq\n\nGET\n\n/users?q=alice\n\n(filtre)\n\ncurl -s\n\n\"http://localhost:3000/users?q=alice\"\n\n| jq\n\nAssurez-vous que\n\nest d√©j√† install√© :\n\nSur Windows\n\nwinget install jq\n\nPOST\n\n/users\n\n(cr√©ation)\n\ncurl -i -H\n\n\"Content-Type: application/json\"\n\n'{\"name\":\"Chloe\",\"email\":\"chloe@example.com\",\"role\":\"teacher\"}'\n\nhttp://localhost:3000/users\n\n‚Üí Attends\n\n201 Created\n\n+ en-t√™te\n\nLocation\n\nGET\n\n/users/1\n\n(lecture)\n\ncurl -s http://localhost:3000/users/1 | jq\n\nPUT\n\n/users/1\n\n(remplacement)\n\ncurl -s -X PUT -H\n\n\"Content-Type: application/json\"\n\n'{\"name\":\"Alice Doe\",\"email\":\"alice.d@example.com\",\"role\":\"student\"}'\n\nhttp://localhost:3000/users/1 | jq\n\nPATCH\n\n/users/1\n\n(modif partielle)\n\ncurl -s -X PATCH -H\n\n\"Content-Type: application/json\"\n\n'{\"role\":\"admin\"}'\n\nhttp://localhost:3000/users/1 | jq\n\nDELETE\n\n/users/1\n\ncurl -i -X DELETE http://localhost:3000/users/1\n\n‚Üí Attends\n\n204 No Content\n\nErreurs & statuts",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "'\n\nhttp://localhost:3000/users/1 | jq\n\nDELETE\n\n/users/1\n\ncurl -i -X DELETE http://localhost:3000/users/1\n\n‚Üí Attends\n\n204 No Content\n\nErreurs & statuts\n\ncurl -i http://localhost:3000/status/404\n\ncurl -i http://localhost:3000/boom\n\ncurl -i -X POST -H\n\n\"Content-Type: application/json\"\n\n'{\"name\":\"Dup\",\"email\":\"alice@example.com\"}'\n\nhttp://localhost:3000/users\n\n‚Üí Observe\n\n404\n\n500\n\n409\n\nR√©sum√© des r√©sultats :\n\nCommande\n\ncurl\n\nCode HTTP attendu\n\nR√©ponse JSON (ou texte) observ√©e\n\ncurl -i http://localhost:3000/hello\n\n200 OK\n\nCorps texte :\n\nBonjour üëã\n\n+ en-t√™te\n\nX-Server\n\ncurl -I http://localhost:3000/ping\n\n200 OK\n\nAucun corps, uniquement les en-t√™tes\n\n`curl -s\n\nhttp://localhost:3000/users\n\njq`\n\n200 OK\n\nListe compl√®te des utilisateurs (\n\ncount\n\ndata: [...]\n\n`curl -s ‚Äú\n\nhttp://localhost:3000/users?q=alice\n\njq`\n\n200 OK\n\nR√©sultat filtr√© par le param√®tre\n\ncurl -i -H \"Content-Type: application/json\" -d '{\"name\":\"Chloe\",\"email\":\"chloe@example.com\"}' http://localhost:3000/users\n\n201 Created\n\nObjet utilisateur cr√©√© + en-t√™te\n\nLocation\n\n`curl -s\n\nhttp://localhost:3000/users/1\n\njq`\n\n200 OK\n\nD√©tails de l‚Äôutilisateur avec\n\nid=1\n\n`curl -s -X PUT -H ‚ÄúContent-Type: application/json‚Äù -d ‚Äò{‚Äúname‚Äù:‚ÄúAlice Doe‚Äù,‚Äúemail‚Äù:\"\n\nalice.d@example.com\n\n\"}‚Äô\n\nhttp://localhost:3000/users/1\n\njq`\n\n200 OK\n\nUtilisateur remplac√© par les nouvelles donn√©es",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "d ‚Äò{‚Äúname‚Äù:‚ÄúAlice Doe‚Äù,‚Äúemail‚Äù:\"\n\nalice.d@example.com\n\n\"}‚Äô\n\nhttp://localhost:3000/users/1\n\njq`\n\n200 OK\n\nUtilisateur remplac√© par les nouvelles donn√©es\n\n`curl -s -X PATCH -H ‚ÄúContent-Type: application/json‚Äù -d ‚Äò{‚Äúrole‚Äù:‚Äúadmin‚Äù}‚Äô\n\nhttp://localhost:3000/users/1\n\njq`\n\n200 OK\n\nChamp\n\nrole\n\nmodifi√©\n\ncurl -i -X DELETE http://localhost:3000/users/1\n\n204 No Content\n\nAucun corps dans la r√©ponse\n\ncurl -i http://localhost:3000/status/404\n\n404 Not Found\n\nJSON ou message d‚Äôerreur\n\ncurl -i http://localhost:3000/boom\n\n500 Server Error\n\nJSON\n\n{ \"error\": \"Erreur interne\", ... }\n\ncurl -i -X POST -H \"Content-Type: application/json\" -d '{\"name\":\"Dup\",\"email\":\"alice@example.com\"}' http://localhost:3000/users\n\n409 Conflict\n\nJSON\n\n{ \"error\": \"Email d√©j√† utilis√©\" }\n\nüß≠ Partie B ‚Äî Sc√©nario\n\nPostman\n\nEnvironnement\n\nbaseUrl = http://localhost:3000\n\nCollection\n\n¬´ Users API (Local) ¬ª avec ces requ√™tes :\n\nGET {{baseUrl}}/users\n\n‚Äî tests : 200, JSON,\n\n{count,data}\n\nPOST {{baseUrl}}/users\n\n‚Äî Body JSON ;\n\nPre-request\n\npm.variables.set(\"rand\", Date.now())\n\n; email\n\nchloe{{rand}}@example.com\n\n; tests :\n\n201\n\nLocation\n\n, sauvegarde\n\nuserId\n\nGET {{baseUrl}}/users/{{userId}}\n\n‚Äî tests : 200, id √©gal.\n\nPUT {{baseUrl}}/users/{{userId}}\n\n‚Äî Body avec nom/email/role ; tests : 200, nom mis √† jour.\n\nPATCH {{baseUrl}}/users/{{userId}}\n\n‚Äî Body\n\n{ \"role\": \"admin\" }",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "baseUrl}}/users/{{userId}}\n\n‚Äî Body avec nom/email/role ; tests : 200, nom mis √† jour.\n\nPATCH {{baseUrl}}/users/{{userId}}\n\n‚Äî Body\n\n{ \"role\": \"admin\" }\n\n; tests : 200, r√¥le = admin.\n\nDELETE {{baseUrl}}/users/{{userId}}\n\n‚Äî tests :\n\n204\n\n(Optionnel)\n\nGET {{baseUrl}}/users/{{userId}}\n\n‚Äî test\n\n404\n\napr√®s suppression.\n\nRunner\n\n: ex√©cuter la collection (POST ‚Üí GET id ‚Üí PUT ‚Üí PATCH ‚Üí DELETE).\n\nData-driven\n\n: CSV\n\nname,email,role\n\net utiliser\n\n{{name}}\n\n{{email}}\n\n{{role}}\n\ndans le Body du POST.\n\nExemple :\n\nname,email,role\n\nAlice,alice@example.com,student\n\nBob,bob@example.com,teacher\n\nChloe,chloe@example.com,admin\n\nRequ√™te POST dans Postman :\n\nURL :\n\nPOST {{baseUrl}}/api/posts\n\nHeaders :\n\nContent-Type: application/json\n\nBody (raw/JSON) :\n\n\"name\"\n\n\"{{name}}\"\n\n\"email\"\n\n\"{{email}}\"\n\n\"role\"\n\n\"{{role}}\"\n\nIci, {{name}}, {{email}} et {{role}} sont des variables de Postman qui seront remplac√©es par les valeurs du CSV.\n\nSnippets tests utiles :\n\ntest\n\n\"200 OK\"\n\n, () =>\n\nresponse\n\ncode\n\n===\n\n200\n\ntest\n\n\"JSON\"\n\n, () =>\n\nresponse\n\nheaders\n\nget\n\n\"Content-Type\"\n\nincludes\n\n\"application/json\"\n\n));\n\nenvironment\n\nset\n\n\"userId\"\n\nresponse\n\njson\n\n().\n\nüìã √Ä produire\n\nTableau\n\n‚Äúrequ√™te ‚Üí r√©ponse‚Äù pour 6 routes (m√©thode, chemin,\n\ncode\n\n, en-t√™tes cl√©s, corps).\n\n3 captures\n\nonglet\n\nNetwork\n\n(annotation : ligne de requ√™te, en-t√™tes, corps).\n\n3 commandes curl",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "es (m√©thode, chemin,\n\ncode\n\n, en-t√™tes cl√©s, corps).\n\n3 captures\n\nonglet\n\nNetwork\n\n(annotation : ligne de requ√™te, en-t√™tes, corps).\n\n3 commandes curl\n\n+ sorties.\n\nExport Postman\n\n(collection JSON) ou capture du\n\nRunner\n\nqui passe vert.\n\n‚≠ê Extra\n\nnpm i cors\n\npuis\n\napp.use(require('cors')());\n\n‚Äî tester les en-t√™tes CORS.\n\nPagination (\n\nGET /users?page=1&limit=5\n\n) et tri.\n\nDocumentation de curl",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/httprequestdataformat/lab1/index.html",
      "title": "üß™ Laboratoire : Requ√™tes HTTP & √©changes de donn√©es avec Node.js/Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "üß™ Laboratoire : Int√©grer TypeScript avec Express\n\nLa librairie\n\ntype-express\n\n(ou parfois appel√©e\n\n@types/express\n\n) est une collection de d√©finitions de types TypeScript pour la biblioth√®que\n\nExpress.js\n\n. Elle permet d‚Äôutiliser\n\nExpress.js\n\navec TypeScript tout en b√©n√©ficiant de l‚Äôintelligence du compilateur TypeScript pour la v√©rification des types, l‚Äôautocompl√©tion, et la documentation inline.\n\nPour lancer un projet Node.js avec Express en utilisant TypeScript, voici les √©tapes √† suivre :\n\n1. Initialiser le projet\n\nTout d‚Äôabord, assurez-vous d‚Äôavoir Node.js install√©. Ensuite, initialisez un projet Node.js.\n\nmkdir mon-projet-express-typescript\n\ncd mon-projet-express-typescript\n\nnpm init -y\n\n2. Installer les d√©pendances\n\nInstallez les d√©pendances pour Express et TypeScript, ainsi que les types pour ces biblioth√®ques.\n\nnpm install express\n\nnpm install typescript ts-node-dev @types/node @types/express --save-dev\n\ntypescript\n\n: pour utiliser TypeScript.\n\nts-node-dev\n\n: pour lancer le serveur avec TypeScript et avoir le rechargement automatique (hot-reloading).\n\n@types/node\n\n@types/express\n\n: types pour Node.js et Express.\n\n3. Configurer TypeScript",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "eScript et avoir le rechargement automatique (hot-reloading).\n\n@types/node\n\n@types/express\n\n: types pour Node.js et Express.\n\n3. Configurer TypeScript\n\nInitialisez un fichier de configuration TypeScript (\n\ntsconfig.json\n\nnpx tsc --init\n\nModifiez\n\ntsconfig.json\n\npour activer les options n√©cessaires :\n\n\"compilerOptions\"\n\n: {\n\n\"target\"\n\n\"ES2020\"\n\n\"module\"\n\n\"commonjs\"\n\n\"outDir\"\n\n\"./dist\"\n\n\"rootDir\"\n\n\"./src\"\n\n\"strict\"\n\ntrue\n\n\"esModuleInterop\"\n\ntrue\n\n\"include\"\n\n: [\n\n\"src/**/*\"\n\n\"exclude\"\n\n: [\n\n\"node_modules\"\n\n\"dist\"\n\n// Exclure ces r√©pertoires\n\n4. Cr√©er la structure du projet\n\nCr√©ez la structure du projet et les fichiers n√©cessaires.\n\nmkdir src\n\ntouch src/index.ts\n\n5. √âcrire le code Express en TypeScript\n\nUne fois les types install√©s, vous pouvez les utiliser directement dans votre code TypeScript en important\n\nexpress\n\nDans\n\nsrc/index.ts\n\n, ajoutez le code suivant pour d√©marrer un serveur Express simple en TypeScript avec les types int√©gr√©s ::\n\nimport\n\nexpress\n\n, {\n\nRequest\n\nResponse\n\nfrom\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\n// Middleware de parsing du JSON\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\n// Route de base\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nRequest\n\nres\n\nResponse\n\nres\n\nsend\n\n'Hello, TypeScript with Express!'\n\n});\n\n// D√©marrage du serveur\n\napp\n\nlisten\n\nport\n\n, ()\n\nconsole\n\nlog\n\n`Serveur en √©coute sur <http://localhost>:",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "nd\n\n'Hello, TypeScript with Express!'\n\n});\n\n// D√©marrage du serveur\n\napp\n\nlisten\n\nport\n\n, ()\n\nconsole\n\nlog\n\n`Serveur en √©coute sur <http://localhost>:\n\nport\n\n});\n\nexpress\n\nest import√© pour utiliser les fonctionnalit√©s d‚ÄôExpress.js.\n\nRequest\n\nResponse\n\nsont import√©s depuis\n\n@types/express\n\npour annoter les types des objets de requ√™te et de r√©ponse. Cela permet √† TypeScript de savoir quelles propri√©t√©s et m√©thodes sont disponibles sur ces objets.\n\nVous pouvez utiliser les middlewares et les routes d‚Äô\n\nexpress\n\ntout en b√©n√©ficiant de la v√©rification des types. Par exemple, si vous essayez d‚Äôacc√©der √† une propri√©t√© qui n‚Äôexiste pas sur\n\nRequest\n\nResponse\n\n, TypeScript vous avertira avec une erreur de compilation.\n\n6. Mettre √† jour les scripts dans\n\npackage.json\n\nAjoutez un script pour d√©marrer le serveur avec\n\nts-node-dev\n\npour le rechargement automatique lors des modifications du code.\n\n\"scripts\"\n\n: {\n\n\"start\"\n\n\"ts-node-dev --respawn src/index.ts\"\n\n7. Lancer le projet\n\nEnfin, lancez le projet avec la commande suivante :\n\nnpm run start\n\nLe serveur Express devrait √™tre accessible sur\n\nhttp://localhost:3000\n\net r√©pondre avec ‚ÄúHello World!‚Äù lorsqu‚Äôil est visit√©.\n\nPourquoi d‚ÄôUtiliser\n\n@types/express\n\nV√©rification des Types",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "essible sur\n\nhttp://localhost:3000\n\net r√©pondre avec ‚ÄúHello World!‚Äù lorsqu‚Äôil est visit√©.\n\nPourquoi d‚ÄôUtiliser\n\n@types/express\n\nV√©rification des Types\n\n: Assure que les donn√©es pass√©es entre les fonctions respectent les types d√©finis, ce qui r√©duit les erreurs de runtime.\n\nAutocompl√©tion\n\n: L‚Äôenvironnement de d√©veloppement (comme VSCode) propose l‚Äôautocompl√©tion pour les m√©thodes et propri√©t√©s des objets\n\nRequest\n\nResponse\n\n, et autres objets d‚ÄôExpress.\n\nDocumentation Inline\n\n: Les types ajoutent de la clart√© au code, permettant une meilleure compr√©hension des m√©thodes et propri√©t√©s disponibles, facilitant ainsi la maintenance.\n\nMiddleware avec des Types\n\nVous pouvez cr√©er des middlewares typ√©s pour assurer que les types sont correctement v√©rifi√©s tout au long de la cha√Æne de traitement.\n\nconst\n\nlogMiddleware\n\nreq\n\nRequest\n\nres\n\nResponse\n\nnext\n\nFunction\n\nconsole\n\nlog\n\nreq\n\nmethod\n\nreq\n\nurl\n\nnext\n\n();\n\napp\n\nuse\n\nlogMiddleware\n\nUtilisation des Interfaces pour Structurer les Donn√©es\n\nEn combinant TypeScript avec Express, vous pouvez d√©finir des interfaces pour structurer vos donn√©es.\n\nimport\n\nexpress\n\n, {\n\nRequest\n\nResponse\n\nfrom\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\ninterface\n\nUser\n\nnumber\n\nname\n\nstring\n\nemail\n\nstring\n\nconst\n\nusers\n\nUser\n\nname\n\n'John Doe'\n\nemail\n\n'john.doe@example.com'\n\nname\n\n'Jane Doe'\n\nemail",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "00\n\ninterface\n\nUser\n\nnumber\n\nname\n\nstring\n\nemail\n\nstring\n\nconst\n\nusers\n\nUser\n\nname\n\n'John Doe'\n\nemail\n\n'john.doe@example.com'\n\nname\n\n'Jane Doe'\n\nemail\n\n'jane.doe@example.com'\n\n// Route pour obtenir tous les utilisateurs\n\napp\n\nget\n\n'/users'\n\n, (\n\nreq\n\nRequest\n\nres\n\nResponse\n\n) => {\n\nres\n\njson\n\nusers\n\n});\n\n// Route pour obtenir un utilisateur par ID\n\napp\n\nget\n\n'/users/:id'\n\n, (\n\nreq\n\nRequest\n\nres\n\nResponse\n\n) => {\n\nconst\n\nuserId\n\nparseInt(\n\nreq\n\nparams\n\nconst\n\nuser\n\nusers\n\nfind\n\n===\n\nuserId\n\nuser\n\n) {\n\nres\n\njson\n\nuser\n\nelse\n\nres\n\nstatus\n\n404\n\nsend\n\n'User not found'\n\n});\n\n// D√©marrer le serveur\n\napp\n\nlisten\n\nport\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur en √©coute sur http://localhost:\n\nport\n\n});\n\nGestion des Erreurs Typ√©e\n\nVous pouvez typer les middlewares de gestion des erreurs pour assurer une meilleure s√©curit√© des types lors de la gestion des exceptions.\n\nimport\n\nexpress\n\n, {\n\nRequest\n\nResponse\n\nNextFunction\n\nfrom\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\n3000\n\n// Middleware de gestion des erreurs\n\napp\n\nuse\n\nerr\n\nError,\n\nreq\n\nRequest\n\nres\n\nResponse\n\nnext\n\nNextFunction\n\n) => {\n\nconsole\n\nerror\n\nerr\n\nstack\n\nres\n\nstatus\n\n500\n\njson\n\nmessage\n\n'Une erreur est survenue'\n\nerror\n\nerr\n\nmessage\n\n});\n\n});\n\n// Exemple de route qui provoque une erreur\n\napp\n\nget\n\n'/error'\n\n, (\n\nreq\n\nRequest\n\nres\n\nResponse\n\n) => {\n\nthrow\n\nnew\n\nError(",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "err\n\nmessage\n\n});\n\n});\n\n// Exemple de route qui provoque une erreur\n\napp\n\nget\n\n'/error'\n\n, (\n\nreq\n\nRequest\n\nres\n\nResponse\n\n) => {\n\nthrow\n\nnew\n\nError(\n\n'Erreur simul√©e!'\n\n});\n\napp\n\nlisten\n\nport\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur en √©coute sur http://localhost:\n\nport\n\n});\n\nStructure de projet recommand√©e :\n\nVoici une structure de projet recommand√©e pour organiser les interfaces ainsi que les autres √©l√©ments du projet.\n\nStructure de Projet TypeScript avec des Interfaces S√©par√©es\n\n‚îú‚îÄ‚îÄ src/\n\n‚îÇ   ‚îú‚îÄ‚îÄ interfaces/\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.interface.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.interface.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.interface.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ models/\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.model.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.model.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.model.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.controller.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.controller.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.controller.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ services/\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.service.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.service.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.service.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ middlewares/\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.middleware.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ error.middleware.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ routes/\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.route.ts\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.route.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ app.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ index.ts\n\n‚îú‚îÄ‚îÄ tests/\n\n‚îÇ   ‚îú‚îÄ‚îÄ user.test.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ product.test.ts\n\n‚îú‚îÄ‚îÄ tsconfig.json\n\n‚îú‚îÄ‚îÄ package.json\n\n‚îî‚îÄ‚îÄ README.md\n\nCr√©ation de la structure propos√©e",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "x.ts\n\n‚îú‚îÄ‚îÄ tests/\n\n‚îÇ   ‚îú‚îÄ‚îÄ user.test.ts\n\n‚îÇ   ‚îú‚îÄ‚îÄ product.test.ts\n\n‚îú‚îÄ‚îÄ tsconfig.json\n\n‚îú‚îÄ‚îÄ package.json\n\n‚îî‚îÄ‚îÄ README.md\n\nCr√©ation de la structure propos√©e\n\nExplication de la Structure\n\nsrc/\n\n: Dossier principal contenant tout le code source du projet.\n\ninterfaces/\n\n: Ce dossier regroupe toutes les interfaces du projet. Chaque interface est plac√©e dans un fichier s√©par√© et nomm√©e en fonction du domaine auquel elle appartient. Par exemple, les interfaces li√©es aux utilisateurs se trouvent dans\n\nuser.interface.ts\n\nExemple\n\nuser.interface.ts\n\nexport\n\ninterface\n\nUser\n\nnumber\n\nname\n\nstring\n\nemail\n\nstring\n\nmodels/\n\n: Contient les mod√®les de donn√©es. Les mod√®les sont souvent des classes qui impl√©mentent les interfaces d√©finies dans le dossier\n\ninterfaces/\n\nExemple\n\nuser.model.ts\n\nimport\n\nUser\n\nfrom\n\n'../interfaces/user.interface'\n\nexport\n\nclass\n\nUserModel\n\nimplements\n\nUser\n\nconstructor\n\npublic\n\nnumber\n\npublic\n\nname\n\nstring\n\npublic\n\nemail\n\nstring\n\n) {}\n\ncontrollers/\n\n: Contient les fichiers qui g√®rent la logique des routes, c‚Äôest-√†-dire les contr√¥leurs. Chaque contr√¥leur est li√© √† un domaine sp√©cifique comme les utilisateurs, les produits, etc.\n\nExemple\n\nuser.controller.ts\n\nimport\n\nRequest\n\nResponse\n\nfrom\n\n'express'\n\nimport\n\nUserService\n\nfrom\n\n'../services/user.service'\n\nexport\n\nclass\n\nUserController\n\npublic\n\nasync\n\ngetAllUsers\n\nreq\n\nRequest",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "ponse\n\nfrom\n\n'express'\n\nimport\n\nUserService\n\nfrom\n\n'../services/user.service'\n\nexport\n\nclass\n\nUserController\n\npublic\n\nasync\n\ngetAllUsers\n\nreq\n\nRequest\n\nres\n\nResponse\n\nPromise\n\nvoid\n\n> {\n\nconst\n\nusers\n\nawait\n\nUserService\n\ngetAllUsers\n\n();\n\nres\n\njson\n\nusers\n\nservices/\n\n: Contient la logique m√©tier, c‚Äôest-√†-dire les services. Les services sont responsables de l‚Äôinteraction avec les bases de donn√©es, les APIs externes, ou toute autre logique m√©tier.\n\nExemple\n\nuser.service.ts\n\nimport\n\nUser\n\nfrom\n\n'../interfaces/user.interface'\n\nimport\n\nUserModel\n\nfrom\n\n'../models/user.model'\n\nexport\n\nclass\n\nUserService\n\npublic\n\nstatic\n\nasync\n\ngetAllUsers\n\nPromise\n\nUser\n\n> {\n\n// Logique pour r√©cup√©rer tous les utilisateurs\n\nreturn\n\nnew\n\nUserModel\n\n'John Doe'\n\n'john.doe@example.com'\n\n)];\n\nmiddlewares/\n\n: Contient les middlewares utilis√©s par l‚Äôapplication, tels que l‚Äôauthentification, la gestion des erreurs, etc.\n\nExemple\n\nauth.middleware.ts\n\nimport\n\nRequest\n\nResponse\n\nNextFunction\n\nfrom\n\n'express'\n\nexport\n\nfunction\n\nauthMiddleware\n\nreq\n\nRequest\n\nres\n\nResponse\n\nnext\n\nNextFunction\n\nvoid\n\n// Logique d'authentification\n\nnext\n\n();\n\nroutes/\n\n: Ce dossier contient les fichiers de routes qui d√©finissent les points d‚Äôentr√©e (endpoints) de l‚Äôapplication. Ces routes appellent g√©n√©ralement les contr√¥leurs pour traiter les requ√™tes.\n\nExemple\n\nuser.route.ts\n\nimport",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "ts d‚Äôentr√©e (endpoints) de l‚Äôapplication. Ces routes appellent g√©n√©ralement les contr√¥leurs pour traiter les requ√™tes.\n\nExemple\n\nuser.route.ts\n\nimport\n\nRouter\n\nfrom\n\n'express'\n\nimport\n\nUserController\n\nfrom\n\n'../controllers/user.controller'\n\nconst\n\nrouter\n\nRouter\n\n();\n\nconst\n\nuserController\n\nnew\n\nUserController\n\n();\n\nrouter\n\nget\n\n'/users'\n\nuserController\n\ngetAllUsers\n\nexport\n\ndefault\n\nrouter\n\nutils/\n\n: Ce dossier contient des utilitaires ou des fonctions r√©utilisables comme la gestion des logs, les helpers, etc.\n\nExemple\n\nlogger.ts\n\nimport\n\nwinston\n\nfrom\n\n'winston'\n\nexport\n\nconst\n\nlogger\n\nwinston\n\ncreateLogger\n\nlevel\n\n'info'\n\nformat\n\nwinston.format.json\n\n(),\n\ntransports\n\nnew\n\nwinston\n\ntransports\n\nConsole\n\n()],\n\n});\n\ntests/\n\n: Contient les tests unitaires et d‚Äôint√©gration. Chaque test est g√©n√©ralement li√© √† un fichier source.\n\nExemple\n\nuser.test.ts\n\nimport\n\nUserService\n\nfrom\n\n'../src/services/user.service'\n\ntest\n\n'should return all users'\n\nasync\n\nconst\n\nusers\n\nawait\n\nUserService\n\ngetAllUsers\n\n();\n\nexpect\n\nusers\n\nlength\n\ntoBe\n\n});\n\nCet exemple utilise la librairie de test\n\nJest\n\n, il faut donc l‚Äôinstaller avant :\n\n# Installer Jest et ts-jest\n\nnpm install jest ts-jest @types/jest --save-dev\n\n# Initialiser Jest avec TypeScript\n\nnpx ts-jest config\n\ninit\n\napp.ts",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": ":\n\n# Installer Jest et ts-jest\n\nnpm install jest ts-jest @types/jest --save-dev\n\n# Initialiser Jest avec TypeScript\n\nnpx ts-jest config\n\ninit\n\napp.ts\n\n: Fichier d‚Äôentr√©e principal de l‚Äôapplication o√π l‚Äôinitialisation d‚ÄôExpress et d‚Äôautres configurations de base sont effectu√©es.\n\nExemple\n\nimport\n\nexpress\n\nfrom\n\n'express'\n\nimport\n\nuserRoutes\n\nfrom\n\n'./routes/user.route'\n\nimport\n\nproductRoutes\n\nfrom\n\n'./routes/product.route'\n\nimport\n\nerrorMiddleware\n\nfrom\n\n'./middlewares/error.middleware'\n\nconst\n\napp\n\nexpress\n\n();\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\napp\n\nuse\n\n'/api'\n\nuserRoutes\n\napp\n\nuse\n\n'/api'\n\nproductRoutes\n\napp\n\nuse\n\nerrorMiddleware\n\nexport\n\ndefault\n\napp\n\nserver.ts\n\n: Fichier pour d√©marrer le serveur Node.js.\n\nExemple\n\nimport\n\napp\n\nfrom\n\n'./app'\n\nconst\n\nport\n\n3000\n\napp\n\nlisten\n\nport\n\n, ()\n\nconsole\n\nlog\n\n`Serveur en √©coute sur <http://localhost>:\n\nport\n\n});\n\nCette structure de projet permet de s√©parer les pr√©occupations (concerns) de mani√®re claire et maintenable. Les interfaces sont isol√©es dans leur propre dossier (\n\ninterfaces/\n\n), ce qui rend le projet modulaire et √©volutif. Chaque composant (mod√®les, contr√¥leurs, services, etc.) est organis√© dans des dossiers d√©di√©s, facilitant ainsi la navigation et la gestion du code dans des projets de grande envergure.\n\nTest de l‚ÄôApi\n\nCr√©ez une collection Postman pour tester l‚ÄôApi.",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/usets/lab_ts/index.html",
      "title": "üß™ Laboratoire : Int√©grer TypeScript avec Express :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "‚úèÔ∏è Exercices : expressions r√©gul√®res\n\nExercice 1 : Validation d‚Äôun mot de passe\n\nObjectif :\n\nCr√©er une fonction qui valide un mot de passe selon les r√®gles suivantes :\n\nAu moins 8 caract√®res.\n\nContient au moins une lettre majuscule.\n\nContient au moins une lettre minuscule.\n\nContient au moins un chiffre.\n\nContient au moins un caract√®re sp√©cial (ex:\n\n!@#$%^&*\n\nInstructions :\n\nCr√©ez une fonction\n\nvalidatePassword\n\nqui prend une cha√Æne de caract√®res en entr√©e et retourne\n\ntrue\n\nsi le mot de passe est valide, sinon\n\nfalse\n\nExercice 2 : Nettoyage d‚Äôune cha√Æne de caract√®res\n\nObjectif :\n\nCr√©er une fonction qui nettoie une cha√Æne de caract√®res en :\n\nSupprimant tous les caract√®res sp√©ciaux, sauf les espaces.\n\nConvertissant plusieurs espaces cons√©cutifs en un seul espace.\n\nSupprimant les espaces au d√©but et √† la fin de la cha√Æne.\n\nInstructions :\n\nCr√©ez une fonction\n\ncleanString\n\nqui prend une cha√Æne en entr√©e et retourne la cha√Æne nettoy√©e.\n\nExercice 3 : Extraction des num√©ros de t√©l√©phone\n\nObjectif :\n\nCr√©er une fonction qui extrait tous les num√©ros de t√©l√©phone d‚Äôun texte. Les num√©ros peuvent √™tre au format\n\n(123) 456-7890\n\n123-456-7890\n\nInstructions :\n\nCr√©ez une fonction",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/regex/exoregex/index.html",
      "title": "‚úèÔ∏è Exercices : expressions r√©gul√®res :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "extrait tous les num√©ros de t√©l√©phone d‚Äôun texte. Les num√©ros peuvent √™tre au format\n\n(123) 456-7890\n\n123-456-7890\n\nInstructions :\n\nCr√©ez une fonction\n\nextractPhoneNumbers\n\nqui prend une cha√Æne de caract√®res en entr√©e et retourne un tableau de num√©ros de t√©l√©phone.\n\nExercice 4 : Validation d‚Äôun code postal\n\nObjectif :\n\nCr√©er une fonction qui valide un code postal. Un code postal valide suit les r√®gles suivantes :\n\n5 chiffres pour un code postal am√©ricain (ex : 12345).\n\n6 caract√®res pour un code postal canadien (ex : A1A 1A1).\n\nInstructions :\n\nCr√©ez une fonction\n\nvalidatePostalCode\n\nqui valide les deux formats.\n\nExercice 5 : Extraction des liens URL\n\nObjectif :\n\nCr√©er une fonction qui extrait toutes les URL d‚Äôun texte.\n\nInstructions :\n\nCr√©ez une fonction\n\nextractUrls\n\nqui prend une cha√Æne de caract√®res en entr√©e et retourne un tableau de toutes les URL.\n\nExercice 6 : Validation d‚Äôun nom d‚Äôutilisateur\n\nObjectif :\n\nCr√©er une fonction qui valide un nom d‚Äôutilisateur selon les r√®gles suivantes :\n\nSeulement des lettres, chiffres et underscores.\n\nDoit commencer par une lettre.\n\nLongueur comprise entre 3 et 15 caract√®res.\n\nInstructions :\n\nCr√©ez une fonction\n\nvalidateUsername\n\npour v√©rifier ces conditions.\n\nExercice 7 : Suppression des caract√®res sp√©ciaux d‚Äôun texte\n\nObjectif :",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/regex/exoregex/index.html",
      "title": "‚úèÔ∏è Exercices : expressions r√©gul√®res :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "ctions :\n\nCr√©ez une fonction\n\nvalidateUsername\n\npour v√©rifier ces conditions.\n\nExercice 7 : Suppression des caract√®res sp√©ciaux d‚Äôun texte\n\nObjectif :\n\nCr√©er une fonction qui supprime tous les caract√®res sp√©ciaux d‚Äôune cha√Æne sauf les espaces.\n\nInstructions :\n\nCr√©ez une fonction\n\nremoveSpecialCharacters\n\nqui prend une cha√Æne en entr√©e et supprime tous les caract√®res sp√©ciaux.\n\nExercice 8 : Formater les dates\n\nObjectif :\n\nCr√©er une fonction qui formate toutes les dates dans un texte au format\n\nDD/MM/YYYY\n\n. Les dates sont pr√©sentes au format\n\nMM/DD/YYYY\n\nYYYY-MM-DD\n\nInstructions :\n\nCr√©ez une fonction\n\nformatDates\n\nqui prend une cha√Æne contenant des dates et les reformate au format\n\nDD/MM/YYYY",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/regex/exoregex/index.html",
      "title": "‚úèÔ∏è Exercices : expressions r√©gul√®res :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "üß™ Laboratoire : Configuration HTTPS\n\nConfigurer HTTPS pour des connexions s√©curis√©es dans une application Node.js avec Express est une √©tape cruciale pour s√©curiser les communications entre les clients et le serveur. HTTPS chiffre les donn√©es √©chang√©es pour emp√™cher les interceptions et les attaques ‚Äúman-in-the-middle‚Äù. Voici comment vous pouvez configurer HTTPS dans une application Express.\n\nObtenir un certificat SSL/TLS\n\nPour utiliser HTTPS, vous avez besoin d‚Äôun certificat SSL/TLS. Vous pouvez obtenir un certificat de plusieurs fa√ßons :\n\nCertificats auto-sign√©s\n\n: Bon pour le d√©veloppement ou les tests, mais non approuv√© par les navigateurs.\n\nCertificats √©mis par une autorit√© de certification (CA)\n\n: Pour les environnements de production. Vous pouvez obtenir ces certificats via des services comme\n\nLet‚Äôs Encrypt\n\n, qui fournit des certificats gratuits.\n\nG√©n√©rer un certificat auto-sign√© (pour le D√©veloppement)\n\nPour le d√©veloppement, vous pouvez g√©n√©rer un certificat auto-sign√© √† l‚Äôaide de\n\nopenssl\n\nopenssl genpkey -algorithm RSA -out key.pem\n\nopenssl req -new -key key.pem -out csr.pem\n\nopenssl x509 -req -days\n\n365\n\n-in csr.pem -signkey key.pem -out cert.pem",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labhttpsconfig/index.html",
      "title": "üß™ Laboratoire : Configuration HTTPS :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "pkey -algorithm RSA -out key.pem\n\nopenssl req -new -key key.pem -out csr.pem\n\nopenssl x509 -req -days\n\n365\n\n-in csr.pem -signkey key.pem -out cert.pem\n\nCela g√©n√®re deux fichiers :\n\nkey.pem\n\n: La cl√© priv√©e.\n\ncert.pem\n\n: Le certificat.\n\nConfigurer HTTPS dans une application express\n\nUne fois que vous avez les fichiers de certificat et de cl√©, vous pouvez configurer votre serveur Express pour utiliser HTTPS.\n\nMettre √† jour\n\nindex.js\n\npour HTTPS\n\nModifiez votre fichier\n\nindex.js\n\npour utiliser\n\nhttps\n\n√† la place de\n\nhttp\n\nindex.js\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\nhttps\n\nrequire\n\n'https'\n\nconst\n\nrequire\n\n'fs'\n\nconst\n\npath\n\nrequire\n\n'path'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nport\n\nprocess\n\nenv\n\nPORT\n\n3000\n\n// Charger le certificat et la cl√©\n\nconst\n\noptions\n\nkey\n\nreadFileSync\n\npath\n\njoin\n\n__dirname\n\n'key.pem'\n\n)),\n\ncert\n\nreadFileSync\n\npath\n\njoin\n\n__dirname\n\n'cert.pem'\n\n// Middleware JSON\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\n// Route simple pour tester\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Connexion HTTPS s√©curis√©e'\n\n});\n\n// Cr√©er le serveur HTTPS\n\nhttps\n\ncreateServer\n\noptions\n\napp\n\nlisten\n\nport\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur HTTPS en √©coute sur <https://localhost>:\n\nport\n\n});\n\nTester la Configuration HTTPS\n\nD√©marrez le Serveur\n\nnode index.js\n\nAcc√©dez √† l‚Äôapplication\n\nOuvrez votre navigateur et acc√©dez √†",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labhttpsconfig/index.html",
      "title": "üß™ Laboratoire : Configuration HTTPS :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "calhost>:\n\nport\n\n});\n\nTester la Configuration HTTPS\n\nD√©marrez le Serveur\n\nnode index.js\n\nAcc√©dez √† l‚Äôapplication\n\nOuvrez votre navigateur et acc√©dez √†\n\nhttps://localhost:3000\n\n. Si vous utilisez un certificat auto-sign√©, le navigateur affichera une alerte de s√©curit√©, car le certificat n‚Äôest pas √©mis par une autorit√© de certification reconnue. Vous pouvez ignorer l‚Äôalerte pour tester en d√©veloppement.\n\nRedirection HTTP vers HTTPS\n\nPour vous assurer que tous les utilisateurs utilisent des connexions s√©curis√©es, vous pouvez configurer une redirection de HTTP vers HTTPS.\n\nConfigurer le serveur HTTP pour rediriger vers HTTPS\n\nAjoutez un serveur HTTP s√©par√© qui redirige toutes les requ√™tes vers HTTPS.\n\nindex.js\n\n(mis √† jour)\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\nhttps\n\nrequire\n\n'https'\n\nconst\n\nhttp\n\nrequire\n\n'http'\n\nconst\n\nrequire\n\n'fs'\n\nconst\n\npath\n\nrequire\n\n'path'\n\nconst\n\napp\n\nexpress\n\n();\n\nconst\n\nhttpsPort\n\nprocess\n\nenv\n\nHTTPS_PORT\n\n3000\n\nconst\n\nhttpPort\n\nprocess\n\nenv\n\nHTTP_PORT\n\n3001\n\n// Charger le certificat et la cl√©\n\nconst\n\noptions\n\nkey\n\nreadFileSync\n\npath\n\njoin\n\n__dirname\n\n'key.pem'\n\n)),\n\ncert\n\nreadFileSync\n\npath\n\njoin\n\n__dirname\n\n'cert.pem'\n\n// Middleware JSON\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\n// Route simple pour tester\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Connexion HTTPS s√©curis√©e'\n\n});",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labhttpsconfig/index.html",
      "title": "üß™ Laboratoire : Configuration HTTPS :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "re JSON\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\n// Route simple pour tester\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Connexion HTTPS s√©curis√©e'\n\n});\n\n// Cr√©er le serveur HTTPS\n\nhttps\n\ncreateServer\n\noptions\n\napp\n\nlisten\n\nhttpsPort\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur HTTPS en √©coute sur <https://localhost>:\n\nhttpsPort\n\n});\n\n// Cr√©er le serveur HTTP qui redirige vers HTTPS\n\nhttp\n\ncreateServer\n\nreq\n\nres\n\n) => {\n\nres\n\nwriteHead\n\n301\n\n, {\n\n\"Location\"\n\n`https://localhost:\n\nhttpsPort\n\n}${\n\nreq\n\nurl\n\n});\n\nres\n\nend\n\n();\n\n}).\n\nlisten\n\nhttpPort\n\n, () => {\n\nconsole\n\nlog\n\n`Serveur HTTP en √©coute sur <http://localhost>:\n\nhttpPort\n\n});\n\nSi le certificat provien d‚Äôune source non approuv√©es, il est possible que vous ne pouvez acc√©der au\n\nlocalhost\n\navec https, mais en dev on va juste cliquer sur avancer puis continuer avec la connexion non s√©curis√©e.\n\nConfigurer le serveur pour la production\n\nSi vous d√©ployez sur un serveur de production, vous devez configurer le serveur web (comme Nginx ou Apache) pour g√©rer les certificats SSL et rediriger le trafic HTTP vers HTTPS.\n\nNe jamais inclure de certificats en production avec le code\n\nEn production, les certificats et les cl√©s priv√©es doivent √™tre g√©r√©s ind√©pendamment du code source pour des raisons de s√©curit√©. Utilisez des outils de gestion de certificats (comme\n\nLet‚Äôs Encrypt",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labhttpsconfig/index.html",
      "title": "üß™ Laboratoire : Configuration HTTPS :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "√©es doivent √™tre g√©r√©s ind√©pendamment du code source pour des raisons de s√©curit√©. Utilisez des outils de gestion de certificats (comme\n\nLet‚Äôs Encrypt\n\npour les certificats gratuits) ou des services cloud pour les stocker et les renouveler automatiquement.\n\n7. Bonnes pratiques suppl√©mentaires pour la s√©curit√© des certificats\n\nPermissions d‚Äôacc√®s aux fichiers\n\n: Les fichiers de certificat doivent avoir des permissions limit√©es pour que seuls les utilisateurs du syst√®me qui en ont besoin puissent y acc√©der. Par exemple, vous pouvez limiter les acc√®s avec la commande\n\nchmod\n\nsous Linux :\n\nchmod\n\n600\n\ncerts/key.pem\n\nchmod\n\n600\n\ncerts/cert.pem\n\nCela permet uniquement au propri√©taire de lire et d‚Äô√©crire dans ces fichiers.\n\nEnvironnement de production\n\n: Pour les environnements de production, vous pouvez stocker les certificats dans des services de gestion de certificats comme\n\nAWS Certificate Manager\n\nAzure Key Vault\n\n, afin de ne pas avoir √† g√©rer manuellement les fichiers sur le serveur.\n\nVariables d‚Äôenvironnement\n\n: Vous pouvez aussi stocker les chemins vers les fichiers de certificats dans des\n\nvariables d‚Äôenvironnement\n\n. Cela rend votre projet plus portable entre diff√©rents environnements (local, production, CI/CD). Exemple :\n\n.env\n\nSSL_KEY_PATH=./certs/key.pem\n\nSSL_CERT_PATH=./certs/cert.pem\n\nChargement dans votre application",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labhttpsconfig/index.html",
      "title": "üß™ Laboratoire : Configuration HTTPS :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "onnements (local, production, CI/CD). Exemple :\n\n.env\n\nSSL_KEY_PATH=./certs/key.pem\n\nSSL_CERT_PATH=./certs/cert.pem\n\nChargement dans votre application\n\nconst\n\ncertificatOptions\n\nkey\n\nfs.readFileSync\n\nprocess\n\nenv\n\nSSL_KEY_PATH\n\ncert\n\nfs.readFileSync\n\nprocess\n\nenv\n\nSSL_CERT_PATH\n\nAutres ressources\n\nComment g√©n√©rer un CSR en Node.js - SSL Dragon\n\nHTTPS | Node.js v22.8.0 Documentation\n\nTLS (SSL) | Node.js v22.8.0 Documentation\n\nGet Started - ZeroSSL",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labhttpsconfig/index.html",
      "title": "üß™ Laboratoire : Configuration HTTPS :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "üß™ Laboratoire : Mechanismes pour authentification s√©curitaire\n\n1. JWT\n\nExemple avec JSON Web Token (JWT) :\n\nnpm install express jsonwebtoken bcryptjs\n\nAvec TypeScript, il ne faut pas ajouter les packages n√©cessaires :\n\nnpm i --save-dev @types/jsonwebtoken @types/bcryptjs\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\njwt\n\nrequire\n\n'jsonwebtoken'\n\nconst\n\nbcrypt\n\nrequire\n\n'bcryptjs'\n\nconst\n\napp\n\nexpress\n\n();\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\nconst\n\nusers\n\n[];\n\n// Simuler une base de donn√©es en m√©moire\n\napp\n\npost\n\n'/register'\n\nasync\n\nreq\n\nres\n\n) => {\n\nconst\n\nhashedPassword\n\nawait\n\nbcrypt\n\nhash\n\nreq\n\nbody\n\npassword\n\nconst\n\nuser\n\nusername\n\nreq\n\nbody\n\nusername\n\npassword\n\nhashedPassword\n\nusers\n\npush\n\nuser\n\nres\n\nstatus\n\n201\n\nsend\n\n'Utilisateur enregistr√©'\n\n});\n\napp\n\npost\n\n'/login'\n\nasync\n\nreq\n\nres\n\n) => {\n\nconst\n\nuser\n\nusers\n\nfind\n\nuser\n\nuser\n\nusername\n\n===\n\nreq\n\nbody\n\nusername\n\nuser\n\nawait\n\nbcrypt\n\ncompare\n\nreq\n\nbody\n\npassword\n\nuser\n\npassword\n\n)) {\n\nconst\n\naccessToken\n\njwt\n\nsign\n\nusername\n\nuser\n\nusername\n\n'SECRET_KEY'\n\n, {\n\nexpiresIn\n\n'1h'\n\n});\n\nres\n\njson\n\naccessToken\n\n});\n\nelse\n\nres\n\nstatus\n\n403\n\nsend\n\n'Nom d‚Äôutilisateur ou mot de passe incorrect'\n\n});\n\napp\n\nlisten\n\n3000\n\n, () => {\n\nconsole",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labauthsecure/index.html",
      "title": "üß™ Laboratoire : Mechanismes pour authentification s√©curitaire :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "res\n\njson\n\naccessToken\n\n});\n\nelse\n\nres\n\nstatus\n\n403\n\nsend\n\n'Nom d‚Äôutilisateur ou mot de passe incorrect'\n\n});\n\napp\n\nlisten\n\n3000\n\n, () => {\n\nconsole\n\nlog\n\n'Serveur d√©marr√© sur le port 3000'\n\n});\n\n√âtablissement de connexion s√©curis√©e\n\nIl est recommand√© d‚Äôutiliser HTTPS pour s√©curiser les connexions entre le client et le serveur.\n\nExemple avec HTTPS :\n\nnpm install express fs https\n\nconst\n\nrequire\n\n'fs'\n\nconst\n\nhttps\n\nrequire\n\n'https'\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\n// Charger les certificats\n\nconst\n\noptions\n\nkey\n\nreadFileSync\n\n'server.key'\n\ncert\n\nreadFileSync\n\n'server.cert'\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Connexion s√©curis√©e'\n\n});\n\nhttps\n\ncreateServer\n\noptions\n\napp\n\nlisten\n\n3000\n\n, () => {\n\nconsole\n\nlog\n\n'Serveur HTTPS d√©marr√© sur le port 3000'\n\n});\n\nPour ce faire, vous devez disposer d‚Äôun certificat SSL valide, qui peut √™tre obtenu aupr√®s d‚Äôune autorit√© de certification (AC).\n\nConfiguration HTTPS pour des connexions s√©curis√©es\n\nUtilisation de cl√©s publiques\n\nLe chiffrement RSA avec des cl√©s publiques et priv√©es est une m√©thode courante.\n\nExemple d‚Äôutilisation de cl√©s publiques pour le chiffrement :\n\nnpm install node-rsa\n\nnpm i --save-dev @types/node-rsa\n\nconst\n\nNodeRSA\n\nrequire\n\n'node-rsa'\n\nconst\n\nkey\n\nnew\n\nNodeRSA\n\n512\n\n});\n\nconst\n\npublicKey\n\nkey\n\nexportKey\n\n'public'\n\nconst",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labauthsecure/index.html",
      "title": "üß™ Laboratoire : Mechanismes pour authentification s√©curitaire :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "--save-dev @types/node-rsa\n\nconst\n\nNodeRSA\n\nrequire\n\n'node-rsa'\n\nconst\n\nkey\n\nnew\n\nNodeRSA\n\n512\n\n});\n\nconst\n\npublicKey\n\nkey\n\nexportKey\n\n'public'\n\nconst\n\nprivateKey\n\nkey\n\nexportKey\n\n'private'\n\n// Chiffrement avec cl√© publique\n\nconst\n\ntext\n\n'Donn√©es sensibles'\n\nconst\n\nencrypted\n\nkey\n\nencrypt\n\ntext\n\n'base64'\n\nconsole\n\nlog\n\n'Texte chiffr√© :'\n\nencrypted\n\n// D√©chiffrement avec cl√© priv√©e\n\nkey\n\nimportKey\n\nprivateKey\n\n'private'\n\nconst\n\ndecrypted\n\nkey\n\ndecrypt\n\nencrypted\n\n'utf8'\n\nconsole\n\nlog\n\n'Texte d√©chiffr√© :'\n\ndecrypted\n\nUtilisation de cl√©s secr√®tes\n\nLes cl√©s secr√®tes sont utilis√©es dans les algorithmes sym√©triques comme AES.\n\nExemple de chiffrement sym√©trique avec AES :\n\nnpm install crypto\n\nconst\n\ncrypto\n\nrequire\n\n'crypto'\n\n// Cl√© secr√®te\n\nconst\n\nsecretKey\n\n'my-secret-key-123'\n\n// Chiffrement\n\nfunction\n\nencrypt\n\ntext\n\n) {\n\nconst\n\ncipher\n\ncrypto\n\ncreateCipher\n\n'aes-256-ctr'\n\nsecretKey\n\nlet\n\nencrypted\n\ncipher\n\nupdate\n\ntext\n\n'utf8'\n\n'hex'\n\nencrypted\n\ncipher\n\nfinal\n\n'hex'\n\nreturn\n\nencrypted\n\n// D√©chiffrement\n\nfunction\n\ndecrypt\n\nencryptedText\n\n) {\n\nconst\n\ndecipher\n\ncrypto\n\ncreateDecipher\n\n'aes-256-ctr'\n\nsecretKey\n\nlet\n\ndecrypted\n\ndecipher\n\nupdate\n\nencryptedText\n\n'hex'\n\n'utf8'\n\ndecrypted\n\ndecipher\n\nfinal\n\n'utf8'\n\nreturn\n\ndecrypted\n\nconst\n\ntext\n\n'Donn√©es √† prot√©ger'\n\nconst\n\nencrypted\n\nencrypt\n\ntext\n\nconst\n\ndecrypted\n\ndecrypt\n\nencrypted",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labauthsecure/index.html",
      "title": "üß™ Laboratoire : Mechanismes pour authentification s√©curitaire :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "decipher\n\nfinal\n\n'utf8'\n\nreturn\n\ndecrypted\n\nconst\n\ntext\n\n'Donn√©es √† prot√©ger'\n\nconst\n\nencrypted\n\nencrypt\n\ntext\n\nconst\n\ndecrypted\n\ndecrypt\n\nencrypted\n\nconsole\n\nlog\n\n'Texte chiffr√© :'\n\nencrypted\n\nconsole\n\nlog\n\n'Texte d√©chiffr√© :'\n\ndecrypted\n\nStockage s√©curitaire des donn√©es des utilisateurs\n\nLe hachage est utilis√© pour stocker les mots de passe de mani√®re s√©curis√©e.\n\nExemple avec bcryptjs pour hacher les mots de passe :\n\nnpm install bcryptjs\n\nconst\n\nbcrypt\n\nrequire\n\n'bcryptjs'\n\n// Hachage du mot de passe\n\nasync\n\nfunction\n\nhashPassword\n\npassword\n\n) {\n\nconst\n\nhashedPassword\n\nawait\n\nbcrypt\n\nhash\n\npassword\n\nreturn\n\nhashedPassword\n\n// V√©rification du mot de passe\n\nasync\n\nfunction\n\nverifyPassword\n\npassword\n\nhashedPassword\n\n) {\n\nconst\n\nmatch\n\nawait\n\nbcrypt\n\ncompare\n\npassword\n\nhashedPassword\n\nreturn\n\nmatch\n\nconst\n\npassword\n\n'monMotDePasse'\n\nhashPassword\n\npassword\n\nthen\n\nhashedPassword\n\n=> {\n\nconsole\n\nlog\n\n'Mot de passe hach√© :'\n\nhashedPassword\n\nverifyPassword\n\npassword\n\nhashedPassword\n\nthen\n\nisMatch\n\n=> {\n\nconsole\n\nlog\n\n'Les mots de passe correspondent :'\n\nisMatch\n\n});\n\n});\n\nGestion des acc√®s\n\nVous pouvez utiliser les middlewares pour restreindre l‚Äôacc√®s aux routes selon les r√¥les des utilisateurs.\n\nExemple de gestion des acc√®s avec des r√¥les utilisateurs :\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\njwt\n\nrequire\n\n'jsonwebtoken'\n\nconst",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labauthsecure/index.html",
      "title": "üß™ Laboratoire : Mechanismes pour authentification s√©curitaire :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "lisateurs.\n\nExemple de gestion des acc√®s avec des r√¥les utilisateurs :\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\njwt\n\nrequire\n\n'jsonwebtoken'\n\nconst\n\napp\n\nexpress\n\n();\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\nconst\n\nSECRET_KEY\n\n'SECRET_KEY'\n\n// Middleware de v√©rification du r√¥le\n\nfunction\n\nauthenticateToken\n\nreq\n\nres\n\nnext\n\n) {\n\nconst\n\ntoken\n\nreq\n\nheaders\n\n'authorization'\n\nsplit\n\n' '\n\ntoken\n\nreturn\n\nres\n\nsendStatus\n\n403\n\njwt\n\nverify\n\ntoken\n\nSECRET_KEY\n\n, (\n\nerr\n\nuser\n\n) => {\n\nerr\n\nreturn\n\nres\n\nsendStatus\n\n403\n\nreq\n\nuser\n\nuser\n\nnext\n\n();\n\n});\n\nfunction\n\nauthorizeRole\n\nrole\n\n) {\n\nreturn\n\nreq\n\nres\n\nnext\n\n) => {\n\nreq\n\nuser\n\nrole\n\n!==\n\nrole\n\nreturn\n\nres\n\nsendStatus\n\n401\n\nnext\n\n();\n\n// Route accessible uniquement par un administrateur\n\napp\n\nget\n\n'/admin'\n\nauthenticateToken\n\nauthorizeRole\n\n'admin'\n\n), (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Bienvenue, administrateur !'\n\n});\n\napp\n\nlisten\n\n3000\n\n, () => {\n\nconsole\n\nlog\n\n'Serveur d√©marr√© sur le port 3000'\n\n});",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/securapi/labauthsecure/index.html",
      "title": "üß™ Laboratoire : Mechanismes pour authentification s√©curitaire :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "üß™ Laboratoire : Documentation Swagger et versionnement\n\nüß™ Exercices pratiques\n\nObjectifs :\n\nDocumenter l‚ÄôAPI\n\nCr√©er deux versions d‚Äôune route\n\n/users\n\nModifier la structure retourn√©e entre v1 et v2\n\nDocumenter les deux versions dans Swagger\n\nTester avec Postman\n\nExercice 1 :\n\nImporter votre fichier swagger dans\n\nSwagger Editor\n\nTester la g√©n√©ration de documentation\n\nUtiliser Postman pour tester les routes /users, /login, /orders\n\nAjouter un token JWT manuellement dans les headers (Authorization: Bearer )\n\nCr√©er d‚Äôautres routes (PUT, DELETE) si elles n‚Äôexistent pas, les documenter et les tester\n\nExercice 2 :\n\n‚Üí retourne\n\n[ { id, username } ]\n\n‚Üí retourne\n\n[ { id, username, email, role } ]",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/docapi/labdocversion/index.html",
      "title": "üß™ Laboratoire : Documentation Swagger et versionnement :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "üß™ Laboratoire : MongoDB avec Atlas et Compass\n\n√âtape 1 : Installation de MongoDB\n\na. Installer MongoDB sur Windows :\n\nAllez sur le site officiel de\n\nMongoDB\n\net t√©l√©chargez la version communautaire de MongoDB.\n\nSuivez les instructions de l‚Äôinstallateur pour installer MongoDB sur votre machine.\n\nMongoDB s‚Äôex√©cute comme un service sous Windows, donc apr√®s l‚Äôinstallation, le service MongoDB devrait d√©marrer automatiquement.\n\nb. Installer MongoDB sur Linux :\n\nPour installer MongoDB sur Ubuntu :\n\nsudo apt update\n\nsudo apt install -y mongodb\n\nD√©marrez le service MongoDB :\n\nsudo systemctl start mongodb\n\nV√©rifiez que MongoDB fonctionne :\n\nsudo systemctl status mongodb\n\nc. Installer MongoDB sur macOS :\n\nUtilisez\n\nHomebrew\n\npour installer MongoDB :\n\nbrew tap mongodb/brew\n\nbrew install mongodb-community@6.0\n\nD√©marrez MongoDB :\n\nbrew services start mongodb-community@6.0\n\n√âtape 2 : D√©marrer MongoDB et le shell Mongo\n\nMongoDB inclut un shell appel√©\n\nmongosh\n\n, qui permet d‚Äôinteragir avec la base de donn√©es via des commandes.\n\nPour ouvrir le shell Mongo, tapez simplement\n\nmongosh\n\ndans votre terminal ou invite de commande.\n\nVous devriez voir une invite comme celle-ci :\n\n> mongosh",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodb/index.html",
      "title": "üß™ Laboratoire : MongoDB avec Atlas et Compass :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "ouvrir le shell Mongo, tapez simplement\n\nmongosh\n\ndans votre terminal ou invite de commande.\n\nVous devriez voir une invite comme celle-ci :\n\n> mongosh\n\nDans notre cas on va utiliser MongoDB Compass avec MongoDB Atlas pour cr√©er le cluster pour stocker nos bases de donn√©es.\n\nAller sur le lien suivant et cr√©er un compte avec\n\nGoogle\n\nou Github :\n\nLoad Data into Atlas\n\nCr√©er votre premier Cluster :\n\nChoisissez l‚Äôoption gratuite avec n‚Äôimporte quel des 3 fournisseurs propos√©s :\n\nDonner un nom d‚Äôutilisateur et un mot de passe pour pouvoir se connecter √† votre Cluster :\n\nSet Up MongoDB Atlas\n\nVous pouvez choisir la m√©thode de connection souhait√©e. Nous allons choisir la connection avec Compass :\n\nVous pouvez vous connecter √† votre cluster dans compass avec l‚ÄôURI suivant (en rempla√ßant les informations entre <>):\n\nmongodb\n\nsrv\n\n//<user>:<db_password>@<cluster-name>.o4pdb.mongodb.net/\n\nMettez votre mot de passe dans le placeholder correspondant.\n\nUne fois connect√©, vous pouvez voir les bases de donn√©es contenant dans votre cluster :\n\n√âtape 3 : Cr√©er une base de donn√©es et une collection\n\nDans MongoDB, les bases de donn√©es contiennent des\n\ncollections\n\n(√©quivalent des tables dans une base de donn√©es relationnelle), et les collections contiennent des\n\ndocuments\n\nCr√©er une base de donn√©es",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodb/index.html",
      "title": "üß™ Laboratoire : MongoDB avec Atlas et Compass :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "collections\n\n(√©quivalent des tables dans une base de donn√©es relationnelle), et les collections contiennent des\n\ndocuments\n\nCr√©er une base de donn√©es\n\nDans MongoDB, pour cr√©er une base de donn√©es, il suffit de la s√©lectionner et elle sera cr√©√©e automatiquement lorsqu‚Äôon y ins√®re des donn√©es :\n\nuse ma_base_de_donnees\n\nCr√©er une collection\n\nLes collections sont cr√©√©es lors de l‚Äôinsertion d‚Äôun document. Par exemple :\n\ndb.createCollection\n\n\"utilisateurs\"\n\n√âtape 4 : Ins√©rer des documents dans une collection\n\nLes documents sont ins√©r√©s sous forme d‚Äôobjets JSON. Voici comment ajouter un utilisateur dans la collection ‚Äúutilisateurs‚Äù :\n\ndb.utilisateurs.insertOne\n\n\"nom\"\n\n\"Alice\"\n\n\"age\"\n\n: 25,\n\n\"email\"\n\n\"alice@example.com\"\n\nVous pouvez √©galement ins√©rer plusieurs documents √† la fois en utilisant\n\ninsertMany\n\ndb.utilisateurs.insertMany\n\n\"nom\"\n\n\"Bob\"\n\n\"age\"\n\n: 30,\n\n\"email\"\n\n\"bob@example.com\"\n\n\"nom\"\n\n\"Charlie\"\n\n\"age\"\n\n: 22,\n\n\"email\"\n\n\"charlie@example.com\"\n\n√âtape 5 : Rechercher des documents\n\nPour r√©cup√©rer des documents, utilisez la commande\n\nfind\n\nRechercher tous les documents\n\ndb.utilisateurs.find\n\nRechercher des documents sp√©cifiques\n\nPour rechercher un utilisateur avec le nom ‚ÄúAlice‚Äù :\n\ndb.utilisateurs.find\n\n\"nom\"\n\n\"Alice\"\n\nRechercher avec des conditions\n\nPar exemple, pour rechercher les utilisateurs de plus de 25 ans :",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodb/index.html",
      "title": "üß™ Laboratoire : MongoDB avec Atlas et Compass :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "nom ‚ÄúAlice‚Äù :\n\ndb.utilisateurs.find\n\n\"nom\"\n\n\"Alice\"\n\nRechercher avec des conditions\n\nPar exemple, pour rechercher les utilisateurs de plus de 25 ans :\n\ndb.utilisateurs.find\n\n\"age\"\n\n$gt\n\n√âtape 6 : Mettre √† jour des documents\n\nMongoDB vous permet de mettre √† jour des documents existants avec la commande\n\nupdateOne\n\nupdateMany\n\nMettre √† jour un document\n\nPour modifier l‚Äô√¢ge de ‚ÄúAlice‚Äù :\n\ndb.utilisateurs.updateOne\n\n\"nom\"\n\n\"Alice\"\n\n$set\n\n\"age\"\n\nMettre √† jour plusieurs documents\n\nPour augmenter l‚Äô√¢ge de tous les utilisateurs de 2 ans :\n\ndb.utilisateurs.updateMany\n\n$inc\n\n\"age\"\n\n√âtape 7 : Supprimer des documents\n\nPour supprimer des documents, utilisez\n\ndeleteOne\n\ndeleteMany\n\nSupprimer un document sp√©cifique\n\nPour supprimer l‚Äôutilisateur ‚ÄúCharlie‚Äù :\n\ndb.utilisateurs.deleteOne\n\n\"nom\"\n\n\"Charlie\"\n\nSupprimer plusieurs documents\n\nPour supprimer tous les utilisateurs de plus de 30 ans :\n\ndb.utilisateurs.deleteMany\n\n\"age\"\n\n$gt\n\n√âtape 8 : Indexation\n\nMongoDB permet d‚Äôindexer des champs pour am√©liorer les performances des requ√™tes. Voici comment cr√©er un index sur le champ ‚Äúnom‚Äù :\n\ndb.utilisateurs.createIndex\n\n\"nom\"\n\nVous pouvez √©galement cr√©er des\n\nindex composites\n\nsur plusieurs champs, par exemple sur ‚Äúnom‚Äù et ‚Äúemail‚Äù :\n\ndb.utilisateurs.createIndex\n\n\"nom\"\n\n: 1,\n\n\"email\"\n\nValidation du sch√©ma :\n\nAjouter un sh√©ma de validation :",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodb/index.html",
      "title": "üß™ Laboratoire : MongoDB avec Atlas et Compass :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "hamps, par exemple sur ‚Äúnom‚Äù et ‚Äúemail‚Äù :\n\ndb.utilisateurs.createIndex\n\n\"nom\"\n\n: 1,\n\n\"email\"\n\nValidation du sch√©ma :\n\nAjouter un sh√©ma de validation :\n\nLes documents qui ne respectent pas le sch√©ma je fais find pour les s√©lectionner puis Delete pour les supprimer\n\nOu mettre une valeur par d√©faut :\n\n√âtape 9 : Utiliser l‚Äôagr√©gation\n\nL‚Äôagr√©gation permet de r√©aliser des op√©rations complexes sur les donn√©es, comme des groupements, des tris, et des filtres avanc√©s.\n\nExemple de pipeline d‚Äôagr√©gation\n\nPour calculer l‚Äô√¢ge moyen des utilisateurs :\n\ndb.utilisateurs.aggregate\n\n$group\n\n\"_id\"\n\n: null,\n\n\"ageMoyen\"\n\n$avg\n\n$age\n\nPipeline plus complexe\n\nCalculer le nombre d‚Äôutilisateurs par tranche d‚Äô√¢ge :\n\ndb.utilisateurs.aggregate\n\n$bucket\n\n\"groupBy\"\n\n$age\n\n\"boundaries\"\n\n20, 30, 40,\n\n\"default\"\n\n\"50+\"\n\n\"output\"\n\n\"nombre\"\n\n$sum\n\n√âtape 10 : Sauvegarde et restauration de donn√©es\n\nMongoDB offre des outils pour sauvegarder et restaurer des donn√©es.\n\nSauvegarde\n\nUtilisez la commande\n\nmongodump\n\npour sauvegarder une base de donn√©es :\n\nmongodump --db ma_base_de_donnees --out /path/to/backup\n\nRestauration\n\nUtilisez\n\nmongorestore\n\npour restaurer les donn√©es :\n\nmongorestore /path/to/backup\n\n√âtape 11 : Acc√©der √† MongoDB via une application Node.js\n\nMongoDB peut √™tre utilis√© avec diverses applications, dont\n\nNode.js",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodb/index.html",
      "title": "üß™ Laboratoire : MongoDB avec Atlas et Compass :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "restore /path/to/backup\n\n√âtape 11 : Acc√©der √† MongoDB via une application Node.js\n\nMongoDB peut √™tre utilis√© avec diverses applications, dont\n\nNode.js\n\n. Voici un exemple d‚Äôint√©gration avec Node.js :\n\nInstallez le driver MongoDB pour Node.js :\n\nnpm install mongodb\n\nCr√©ez une connexion dans votre fichier JavaScript :\n\nconst\n\nMongoClient\n\nrequire\n\n'mongodb'\n\nconst\n\nuri\n\n\"mongodb://localhost:27017\"\n\nconst\n\nclient\n\nnew\n\nMongoClient\n\nuri\n\nasync\n\nfunction\n\nrun\n\n() {\n\ntry\n\nawait\n\nclient\n\nconnect\n\n();\n\nconst\n\ndatabase\n\nclient\n\n'ma_base_de_donnees'\n\nconst\n\nutilisateurs\n\ndatabase\n\ncollection\n\n'utilisateurs'\n\nconst\n\nnouvelUtilisateur\n\nnom\n\n\"John\"\n\nage\n\nemail\n\n\"john@example.com\"\n\nconst\n\nresultat\n\nawait\n\nutilisateurs\n\ninsertOne\n\nnouvelUtilisateur\n\nconsole\n\nlog\n\n`Nouveau document ins√©r√© avec l'ID\n\nresultat\n\ninsertedId\n\nfinally\n\nawait\n\nclient\n\nclose\n\n();\n\nrun\n\n().\n\ncatch\n\nconsole\n\ndir\n\nExemples de requ√™tes, recherche et tri",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodb/index.html",
      "title": "üß™ Laboratoire : MongoDB avec Atlas et Compass :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "üß™ Laboratoire : Int√©gration de MongoDB avec Node.js (V3)\n\nObjectif principal\n\n: Concevoir un projet Node.js complet en int√©grant MongoDB, la validation des donn√©es, la configuration des environnements, l‚Äôorganisation professionnelle du code par version (v1, v2, v3), ainsi qu‚Äôune documentation Swagger.\n\nContexte du laboratoire\n\nVous d√©veloppez un service Web RESTful pour g√©rer les utilisateurs, produits et commandes d‚Äôune plateforme. Le projet √©volue √† travers\n\ntrois versions\n\nd‚ÄôAPI (v1, v2, v3), chacune correspondant √† une √©tape d‚Äô√©volution de l‚Äôarchitecture ou du mod√®le de donn√©es.\n\nüóÇ Structure du projet\n\nLe projet adopte\n\nl‚Äôapproche B\n\navec une organisation par\n\nversion d‚ÄôAPI\n\nsrc/\n\n‚îú‚îÄ‚îÄ app.ts\n\n‚îú‚îÄ‚îÄ config/             # Configuration selon l'environnement (dev, prod)\n\n‚îú‚îÄ‚îÄ common/             # Middlewares, helpers, constantes, erreurs globales\n\n‚îú‚îÄ‚îÄ v1/                 # Premi√®re version de l‚ÄôAPI\n\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/\n\n‚îÇ   ‚îú‚îÄ‚îÄ services/\n\n‚îÇ   ‚îú‚îÄ‚îÄ models/\n\n‚îÇ   ‚îú‚îÄ‚îÄ routes/\n\n‚îÇ   ‚îî‚îÄ‚îÄ validations/\n\n‚îú‚îÄ‚îÄ v2/                 # √âvolution des r√®gles m√©tier\n\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/\n\n‚îÇ   ‚îú‚îÄ‚îÄ services/\n\n‚îÇ   ‚îú‚îÄ‚îÄ models/\n\n‚îÇ   ‚îú‚îÄ‚îÄ routes/\n\n‚îÇ   ‚îî‚îÄ‚îÄ validations/",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodbnode/index.html",
      "title": "üß™ Laboratoire : Int√©gration de MongoDB avec Node.js (V3) :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "‚îú‚îÄ‚îÄ v2/                 # √âvolution des r√®gles m√©tier\n\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/\n\n‚îÇ   ‚îú‚îÄ‚îÄ services/\n\n‚îÇ   ‚îú‚îÄ‚îÄ models/\n\n‚îÇ   ‚îú‚îÄ‚îÄ routes/\n\n‚îÇ   ‚îî‚îÄ‚îÄ validations/\n\n‚îî‚îÄ‚îÄ v3/                 # Version professionnelle avec MongoDB, Swagger, etc.\n\n‚îú‚îÄ‚îÄ controllers/\n\n‚îú‚îÄ‚îÄ services/\n\n‚îú‚îÄ‚îÄ models/\n\n‚îú‚îÄ‚îÄ routes/\n\n‚îú‚îÄ‚îÄ validations/\n\n‚îú‚îÄ‚îÄ aggregations/\n\n‚îî‚îÄ‚îÄ swagger/\n\nClasses et entit√©s\n\nLes mod√®les d‚Äôobjet suivants sont attendus, dans la\n\n// User\n\nnumber\n\nname\n\nstring\n\nemail\n\nstring\n\nusername\n\nstring\n\npassword\n\nstring\n\nrole?\n\nstring\n\n// Product\n\nnumber\n\nname\n\nstring\n\ndescription\n\nstring\n\nprice\n\nnumber\n\nstock\n\nnumber\n\n// Order\n\nnumber\n\nuserId\n\nnumber\n\nproductId\n\nnumber\n\nquantity\n\nnumber\n\ntotalPrice\n\nnumber\n\nAjout recommand√©\n\n: m√©thode d‚Äôagr√©gation pour calculer les ventes totales par produit, ou les commandes par utilisateur.\n\n√âtapes :\n\n√âtape 1 : Initialisation du projet\n\nCloner votre projet qui inclu les version V1 et V2 de votre projet template. Si vous ne l‚Äôavez pas cr√©ez le projet avec\n\nnpm init\n\net installez :\n\nnpm install express mongoose dotenv cors swagger-ui-express\n\nnpm install -D typescript ts-node nodemon @types/express @types/node\n\nG√©n√©rez les dossiers et la structure de version.\n\nsrc/\n\n‚îú‚îÄ‚îÄ app.ts\n\n‚îú‚îÄ‚îÄ config/             # Configuration selon l'environnement (dev, prod)",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodbnode/index.html",
      "title": "üß™ Laboratoire : Int√©gration de MongoDB avec Node.js (V3) :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "es/node\n\nG√©n√©rez les dossiers et la structure de version.\n\nsrc/\n\n‚îú‚îÄ‚îÄ app.ts\n\n‚îú‚îÄ‚îÄ config/             # Configuration selon l'environnement (dev, prod)\n\n‚îú‚îÄ‚îÄ common/             # Middlewares, helpers, constantes, erreurs globales\n\n‚îú‚îÄ‚îÄ v1/                 # Premi√®re version de l‚ÄôAPI\n\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/\n\n‚îÇ   ‚îú‚îÄ‚îÄ services/\n\n‚îÇ   ‚îú‚îÄ‚îÄ models/\n\n‚îÇ   ‚îú‚îÄ‚îÄ routes/\n\n‚îÇ   ‚îî‚îÄ‚îÄ validations/\n\n‚îú‚îÄ‚îÄ v2/                 # √âvolution des r√®gles m√©tier\n\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/\n\n‚îÇ   ‚îú‚îÄ‚îÄ services/\n\n‚îÇ   ‚îú‚îÄ‚îÄ models/\n\n‚îÇ   ‚îú‚îÄ‚îÄ routes/\n\n‚îÇ   ‚îî‚îÄ‚îÄ validations/\n\n‚îî‚îÄ‚îÄ v3/                 # Version professionnelle avec MongoDB, Swagger, etc.\n\n‚îú‚îÄ‚îÄ controllers/\n\n‚îú‚îÄ‚îÄ services/\n\n‚îú‚îÄ‚îÄ models/\n\n‚îú‚îÄ‚îÄ routes/\n\n‚îú‚îÄ‚îÄ validations/\n\n‚îú‚îÄ‚îÄ aggregations/\n\n‚îî‚îÄ‚îÄ swagger/\n\nAjoutez la configuration TypeScript (\n\ntsconfig.json\n\n) et un\n\n.env\n\npour la connexion MongoDB.\n\n√âtape 2 : Int√©gration de MongoDB (v3)\n\nCr√©ez une base\n\necommerce-db\n\nCr√©ez les\n\nsch√©mas Mongoose\n\npour\n\nUser\n\nProduct\n\nOrder\n\nUtilisez des\n\nvalidations\n\navec Joi ou zod (email, mot de passe, prix > 0, stock ‚â• 0, etc.).\n\nImpl√©mentez les services pour CRUD de chaque entit√©.\n\nTestez les routes avec Postman.\n\n√âtape 3 : Ajout des agr√©gations\n\nAjoutez des routes GET qui utilisent des op√©rations d‚Äôagr√©gation :\n\n/api/v3/orders/summary\n\n/api/v3/products/most-sold\n\n/api/v3/users/top-buyers\n\n√âtape 4 : Swagger et documentation",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodbnode/index.html",
      "title": "üß™ Laboratoire : Int√©gration de MongoDB avec Node.js (V3) :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "lisent des op√©rations d‚Äôagr√©gation :\n\n/api/v3/orders/summary\n\n/api/v3/products/most-sold\n\n/api/v3/users/top-buyers\n\n√âtape 4 : Swagger et documentation\n\nCr√©ez un fichier\n\nswagger.json\n\ndans\n\nv3/swagger/\n\nDans\n\nswagger.ts\n\nimport\n\nswaggerUi\n\nfrom\n\n'swagger-ui-express'\n\nimport\n\nRouter\n\nfrom\n\n'express'\n\nimport\n\nfrom\n\n'fs'\n\nimport\n\npath\n\nfrom\n\n'path'\n\nconst\n\nswaggerRouter\n\nRouter\n\n();\n\nconst\n\nswaggerDocs\n\nJSON.parse\n\nreadFileSync\n\npath\n\njoin\n\n__dirname\n\n'../swagger/v1/swagger.json'\n\n'utf-8'\n\n)),\n\nJSON.parse\n\nreadFileSync\n\npath\n\njoin\n\n__dirname\n\n'../swagger/v2/swagger.json'\n\n'utf-8'\n\n)),\n\nJSON.parse\n\nreadFileSync\n\npath\n\njoin\n\n__dirname\n\n'../swagger/v3/swagger.json'\n\n'utf-8'\n\nswaggerRouter\n\nuse\n\n'/v1'\n\nswaggerUi\n\nserve\n\nswaggerUi\n\nsetup\n\nswaggerDocs\n\n));\n\nswaggerRouter\n\nuse\n\n'/v2'\n\nswaggerUi\n\nserve\n\nswaggerUi\n\nsetup\n\nswaggerDocs\n\n));\n\nswaggerRouter\n\nuse\n\n'/v3'\n\nswaggerUi\n\nserve\n\nswaggerUi\n\nsetup\n\nswaggerDocs\n\n));\n\nexport\n\ndefault\n\nswaggerRouter\n\nimport\n\nexpress\n\nfrom\n\n'express'\n\nimport\n\nswaggerRouter\n\nfrom\n\n'./swagger'\n\nconst\n\napp\n\nexpress\n\n();\n\napp\n\nuse\n\n'/api-docs'\n\nswaggerRouter\n\nAjoutez la documentation des routes (Users, Products, Orders).\n\nimport\n\nexpress\n\nfrom\n\n'express'\n\nimport\n\nconnectDB\n\nfrom\n\n'./config/db'\n\nimport\n\nswaggerUi\n\nfrom\n\n'swagger-ui-express'\n\nimport\n\nswaggerDocument\n\nfrom\n\n'../public/swagger.json'\n\nconst\n\napp",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodbnode/index.html",
      "title": "üß™ Laboratoire : Int√©gration de MongoDB avec Node.js (V3) :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "rt\n\nconnectDB\n\nfrom\n\n'./config/db'\n\nimport\n\nswaggerUi\n\nfrom\n\n'swagger-ui-express'\n\nimport\n\nswaggerDocument\n\nfrom\n\n'../public/swagger.json'\n\nconst\n\napp\n\nexpress\n\n();\n\nconnectDB\n\n();\n\napp\n\nuse\n\nexpress\n\njson\n\n());\n\napp\n\nuse\n\n'/api-docs'\n\nswaggerUi\n\nserve\n\nswaggerUi\n\nsetup\n\nswaggerDocument\n\n));\n\napp\n\nuse\n\n'/api/v1/'\n\nrequire\n\n'./v1/routes'\n\n));\n\napp\n\nuse\n\n'/api/v2/'\n\nrequire\n\n'./v2/routes'\n\n));\n\napp\n\nuse\n\n'/api/v3/'\n\nrequire\n\n'./v3/routes'\n\n));\n\napp\n\nlisten\n\nprocess\n\nenv\n\nPORT\n\n, ()\n\nconsole\n\nlog\n\n`Server on port\n\nprocess\n\nenv\n\nPORT\n\n});\n\nMontez Swagger UI sur\n\n/api-docs/v3\n\n√âtape 5 : Configuration des environnements\n\n.env.development\n\n.env.production\n\nconfig/index.ts\n\ncharge les bons param√®tres pour charger la bon BD.\n\nBonus (si le temps le permet)\n\nPagination et tri dans les listes de produits",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/dbnosql/labmongodbnode/index.html",
      "title": "üß™ Laboratoire : Int√©gration de MongoDB avec Node.js (V3) :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "Configuration d‚Äôun serveur de test avec Node.js\n\nPour configurer un\n\nserveur de test\n\navec\n\nNode.js\n\n, vous pouvez mettre en place un environnement de test s√©par√© avec des configurations et des outils d√©di√©s aux tests.\n\n√âtapes pour configurer un serveur de test en Node.js\n\nOrganisation des Environnements\n\n: Utilisez des fichiers de configuration pour s√©parer les param√®tres de test et de production.\n\nConfiguration de l‚Äôapplication\n\n: Modifiez les param√®tres en fonction de l‚Äôenvironnement.\n\nUtilisation d‚Äôoutils de tests\n\n: Employez des outils de test comme\n\nMocha\n\nChai\n\n, et\n\nSupertest\n\npour automatiser les tests.\n\n√âtape 1 : Organisation des environnements avec un fichier\n\n.env\n\nLes environnements sont souvent d√©finis dans un fichier\n\n.env\n\npour isoler les param√®tres de configuration.\n\nInstaller dotenv\n\npour lire les variables d‚Äôenvironnement :\n\nnpm install dotenv\n\nCr√©er deux fichiers .env\n\npour les environnements de\n\ntest\n\nproduction\n\nFichier\n\n.env.test\n\nNODE_ENV=test\n\nPORT=4000\n\nDB_CONNECTION_STRING=mongodb://localhost:27017/testdb\n\nJWT_SECRET=mytestsecret\n\nFichier\n\n.env.production\n\nNODE_ENV=production\n\nPORT=3000\n\nDB_CONNECTION_STRING=mongodb://localhost:27017/proddb",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/tests/labconfigsrvtest/index.html",
      "title": "Configuration d‚Äôun serveur de test avec Node.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "27017/testdb\n\nJWT_SECRET=mytestsecret\n\nFichier\n\n.env.production\n\nNODE_ENV=production\n\nPORT=3000\n\nDB_CONNECTION_STRING=mongodb://localhost:27017/proddb\n\nJWT_SECRET=myproductionsecret\n\nConfigurer dotenv dans votre application\n\npour lire les fichiers\n\n.env\n\nen fonction de l‚Äôenvironnement :\n\n// src/app.js\n\nrequire\n\n'dotenv'\n\nconfig\n\npath\n\nprocess\n\nenv\n\nNODE_ENV\n\n===\n\n'test'\n\n'.env.test'\n\n'.env.production'\n\n});\n\nconst\n\nexpress\n\nrequire\n\n'express'\n\nconst\n\napp\n\nexpress\n\n();\n\napp\n\nget\n\n'/'\n\n, (\n\nreq\n\nres\n\n) => {\n\nres\n\nsend\n\n'Hello, this is the '\n\nprocess\n\nenv\n\nNODE_ENV\n\n' environment!'\n\n});\n\nmodule\n\nexports\n\napp\n\nD√©marrer l‚Äôapplication\n\nPour le mode production :\n\nNODE_ENV\n\nproduction node src/app.js\n\nPour le mode test :\n\nNODE_ENV\n\ntest node src/app.js\n\n√âtape 2 : D√©finir les scripts de tests\n\nInstaller les d√©pendances de tests\n\npour Node.js :\n\nnpm install --save-dev mocha chai supertest\n\nConfigurer le script de test dans\n\npackage.json\n\nAjoutez un script pour lancer les tests dans le fichier\n\npackage.json\n\n\"scripts\"\n\n\"start\"\n\n\"node src/app.js\"\n\n\"test\"\n\n\"NODE_ENV=test mocha src/tests --exit\"\n\n√âtape 3 : Cr√©er un test d‚Äôint√©gration pour le serveur de test\n\nCr√©er un fichier de test\n\ndans\n\nsrc/tests/app.test.js\n\npour v√©rifier si le serveur fonctionne correctement dans l‚Äôenvironnement de test.\n\nconst\n\nchai\n\nrequire\n\n'chai'\n\nconst\n\nchaiHttp",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/tests/labconfigsrvtest/index.html",
      "title": "Configuration d‚Äôun serveur de test avec Node.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "rc/tests/app.test.js\n\npour v√©rifier si le serveur fonctionne correctement dans l‚Äôenvironnement de test.\n\nconst\n\nchai\n\nrequire\n\n'chai'\n\nconst\n\nchaiHttp\n\nrequire\n\n'chai-http'\n\nconst\n\napp\n\nrequire\n\n'../app'\n\nconst\n\nexpect\n\nchai\n\nexpect\n\nchai\n\nuse\n\nchaiHttp\n\ndescribe\n\n'GET /'\n\n, () => {\n\n'should return 200 in test environment'\n\n, (\n\ndone\n\n) => {\n\nchai\n\nrequest\n\napp\n\nget\n\n'/'\n\nend\n\nerr\n\nres\n\n) => {\n\nexpect\n\nres\n\nhave\n\nstatus\n\n200\n\nexpect\n\nres\n\ntext\n\nequal\n\n'Hello, this is the test environment!'\n\ndone\n\n();\n\n});\n\n});\n\n});\n\nLancer les tests\n\nnpm test\n\nLe serveur de test d√©marre dans l‚Äôenvironnement\n\ntest\n\n, et les variables sp√©cifiques √† cet environnement sont utilis√©es.\n\n√âtape 4 : Utilisation d‚Äôune base de donn√©es de test\n\nPour un serveur de test, il est recommand√© d‚Äôutiliser une\n\nbase de donn√©es s√©par√©e\n\ndes donn√©es de production. Avec MongoDB, par exemple, vous pouvez utiliser une base de donn√©es d√©di√©e pour les tests en configurant la variable\n\nDB_CONNECTION_STRING\n\ndans\n\n.env.test\n\nExemple d‚Äôinitialisation de la base de donn√©es dans\n\napp.js\n\nconst\n\nmongoose\n\nrequire\n\n'mongoose'\n\nmongoose\n\nconnect\n\nprocess\n\nenv\n\nDB_CONNECTION_STRING\n\n, {\n\nuseNewUrlParser\n\ntrue\n\nuseUnifiedTopology\n\ntrue\n\nthen\n\n(() =>\n\nconsole\n\nlog\n\n'Connect√© √† la base de donn√©es de test'\n\ncatch\n\nerr\n\n) =>\n\nconsole\n\nerror",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/tests/labconfigsrvtest/index.html",
      "title": "Configuration d‚Äôun serveur de test avec Node.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  },
  {
    "text": "useNewUrlParser\n\ntrue\n\nuseUnifiedTopology\n\ntrue\n\nthen\n\n(() =>\n\nconsole\n\nlog\n\n'Connect√© √† la base de donn√©es de test'\n\ncatch\n\nerr\n\n) =>\n\nconsole\n\nerror\n\n'Erreur de connexion √† la base de donn√©es de test'\n\nerr\n\n));\n\nR√©sum√© des √©tapes\n\nEnvironnements de configuration\n\n: Utilisez des fichiers\n\n.env\n\npour isoler les param√®tres de test et de production.\n\nScripts de tests\n\n: Configurez un script dans\n\npackage.json\n\npour lancer les tests dans l‚Äôenvironnement de test.\n\nTests automatis√©s\n\n: Utilisez\n\nJest ou\n\nMocha\n\nChai\n\n, et\n\nSupertest\n\npour valider le comportement du serveur.\n\nBase de donn√©es de test\n\n: Utilisez une base de donn√©es d√©di√©e pour les tests pour √©viter d‚Äôalt√©rer les donn√©es de production.",
    "metadata": {
      "module": "420-514",
      "source": "https://cegepmv.github.io/420-514/tests/labconfigsrvtest/index.html",
      "title": "Configuration d‚Äôun serveur de test avec Node.js :: Collecte et interpr√©tation de donn√©es",
      "type": "web",
      "corpus": "exercices"
    }
  }
]